<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>3.6&nbsp;MIC-1 Calculator</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Computer Architecture (Fall 2015)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Lectures%29" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._turnin%29" class="tocviewlink" data-pltdoc="x">Turn-<wbr></wbr>In and Grading</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Readings%29" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._software%29" class="tocviewlink" data-pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#%28part._.Fine_.Print%29" class="tocviewlink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="a1.html" class="tocviewlink" data-pltdoc="x">Floating Point Representation</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="a2.html" class="tocviewlink" data-pltdoc="x">DIY Floating Point Addition</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="a3.html" class="tocviewlink" data-pltdoc="x">MIC-<wbr></wbr>1 Fibonacci</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="exam1.html" class="tocviewlink" data-pltdoc="x">Exam 1</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="a4.html" class="tocviewlink" data-pltdoc="x">MIC-<wbr></wbr>1 Microcode Extension</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">MIC-<wbr></wbr>1 Calculator</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="exam2.html" class="tocviewlink" data-pltdoc="x">Exam 2</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="a6.html" class="tocviewlink" data-pltdoc="x">MIC-<wbr></wbr>1 Linker</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="a7.html" class="tocviewlink" data-pltdoc="x">UNIX Processes</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="e1.html" class="tocviewlink" data-pltdoc="x">Cache Simulator</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="final.html" class="tocviewlink" data-pltdoc="x">Final</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a4.html" title="backward to &quot;3.5 MIC-1 Microcode Extension&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="exam2.html" title="forward to &quot;3.7 Exam 2&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.6<tt>&nbsp;</tt><a name="(part._a5)"></a>MIC-1 Calculator</h4><p>In MIC-1 assembly, write a program that reads pairs of 16-bit integers
from the UART and adds them together then displays the result.</p><p>You only need to deal with positive numbers.</p><p>Your program should expect any number of pairs of numbers. Each
element of the pair should be delimited by a space
character (<span class="RktInBG"><span class="hspace">&nbsp;</span></span>) and each pair should be delimited by newline
characters (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\n</span><span class="hspace"></span></span>). The addition of each pair should be printed
one-by-one with a separating newline character (<span class="RktInBG"><span class="hspace"></span><span class="RktIn">\n</span><span class="hspace"></span></span>).</p><p>The input values must be in base-10 and the output must be in
base-10. You will need the microcode instructions you implemented in
<a href="a4.html" data-pltdoc="x">MIC-1 Microcode Extension</a> to do this. The <span class="RktInBG"><span class="hspace"></span><span class="RktIn">MULT</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">DIV</span><span class="hspace"></span></span>
operations are useful for converting to and from base-10. The
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">RSHIFT</span><span class="hspace"></span></span> operation is useful for shifting string bytes into
position for the UART.</p><p>The output must be displayed in the following format, as demonstrated
with the input <span class="RktInBG"><span class="hspace"></span><span class="RktIn">1 2</span><span class="hspace"></span></span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">1 + 2 = 3</span></p></td></tr></table></p><p>The program should run indefinitely until an addition that would
overflow occurs. In that case, then you must output a message in the
following format, as demonstrated with the input <span class="RktInBG"><span class="hspace"></span><span class="RktIn">32000 32000</span><span class="hspace"></span></span>:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">32000 + 32000 = OVERFLOW</span></p></td></tr></table></p><p>After outputting this message, you must <span class="RktInBG"><span class="hspace"></span><span class="RktIn">HALT</span><span class="hspace"></span></span>.</p><p>The program should have no other output.</p><p>In addition to outputting sums, your program should store the actual
sums in the program&rsquo;s memory somewhere that you decide. The sums
should be in memory in order starting from the first sum outputted. In
the event of overflow, the record should show the number
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">-1</span><span class="hspace"></span></span>. You are not responsible for dealing with situations
where so many numbers have been entered that the stack is overwritten,
provided the stack is started as high in memory as possible.</p><p><div class="SIntrapara">You must turn in
</div><div class="SIntrapara"><ul><li><p>A <span class="RktSym">README</span><span class="RktMeta"></span> file that contains a short write-up of your
project. It should discuss the approach you took to solving the
problem, it should discuss any problems or issues that still remain,
it should discuss any interesting things that you learned in the
course of the project. Finally, it should provide the grade you
believe the project deserves with a detailed explanation of why. This
explanation should almost certainly focus on why you believe the
program is correct.</p><p>This file must be in plain-text. If you need formatting, use
Markdown. It must be limited to 80 characters wide, unless you are
quoting program output.</p></li><li><p>Your assembly source, named <span class="RktSym">calc.asm</span><span class="RktMeta"></span>.</p></li><li><p>Your compiled object file, named <span class="RktSym">calc.o</span><span class="RktMeta"></span>.</p></li><li><p>A test input file, named <span class="RktSym">test.in</span><span class="RktMeta"></span>, than contains example
input. It must contain at least ten (10) pairs of numbers. In addition
to five (5) pairs of your choosing, it must contain these pairs:</p><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">235 0</span></p></td></tr><tr><td><p><span class="stt">16341 957</span></p></td></tr><tr><td><p><span class="stt">23786 12400</span></p></td></tr><tr><td><p><span class="stt">12 23</span></p></td></tr><tr><td><p><span class="stt">1 1343</span></p></td></tr></table></p><p>Your test input should end with debugger input to display the
in-memory sum table.</p></li><li><p>A test output file, named <span class="RktSym">test.out</span><span class="RktMeta"></span>, that contains the
expected output for the test input file.</p></li><li><p>A <span class="RktSym">Makefile</span><span class="RktMeta"></span> that builds the program and then tests it by
running it with <span class="RktSym">test.in</span><span class="RktMeta"></span> as the input and compares the actual
output to <span class="RktSym">test.out</span><span class="RktMeta"></span>. You may assume that the <span class="RktSym">masm</span><span class="RktMeta"></span> binary
from <a href="a4.html" data-pltdoc="x">MIC-1 Microcode Extension</a> is in the <span class="RktSym">PATH</span><span class="RktMeta"></span>. You may also assume that the
<span class="RktSym">mic1</span><span class="RktMeta"></span> binary is in the <span class="RktSym">PATH</span><span class="RktMeta"></span> and that <span class="RktSym">rmd.prom</span><span class="RktMeta"></span> is a
compiled, correct microcode interpreter from <a href="a4.html" data-pltdoc="x">MIC-1 Microcode Extension</a>.</p></li></ul></div></p><p>This assignment will be graded based on its correctness and your
ability to articulate why it is correct.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a4.html" title="backward to &quot;3.5 MIC-1 Microcode Extension&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="exam2.html" title="forward to &quot;3.7 Exam 2&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
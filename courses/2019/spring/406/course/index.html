<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2019 Spring - 406 - Compiler Construction - Syllabus</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">2019 Spring -<wbr></wbr> 406 -<wbr></wbr> Compiler Construction -<wbr></wbr> Syllabus</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Important_.Course_.Details%29" class="tocviewlink" data-pltdoc="x">Important Course Details</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._lectures%29" class="tocviewlink" data-pltdoc="x">Schedule</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._policies%29" class="tocviewlink" data-pltdoc="x">Work in this Course</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Fine_.Print%29" class="tocviewlink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._2019_.Spring_-_406_-_.Compiler_.Construction_-_.Syllabus%29" class="tocsubseclink" data-pltdoc="x">2019 Spring -<wbr></wbr> 406 -<wbr></wbr> Compiler Construction -<wbr></wbr> Syllabus</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Important_.Course_.Details%29" class="tocsubseclink" data-pltdoc="x">Important Course Details</a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._lectures%29" class="tocsubseclink" data-pltdoc="x">Schedule</a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._policies%29" class="tocsubseclink" data-pltdoc="x">Work in this Course</a></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#%28part._checks%29" class="tocsubseclink" data-pltdoc="x">Checkpoints</a></td></tr><tr><td><span class="tocsublinknumber">3.1.1<tt>&nbsp;</tt></span><a href="#%28part._check1%29" class="tocsubseclink" data-pltdoc="x">Checkpoint #1</a></td></tr><tr><td><span class="tocsublinknumber">3.1.2<tt>&nbsp;</tt></span><a href="#%28part._check2%29" class="tocsubseclink" data-pltdoc="x">Checkpoint #2</a></td></tr><tr><td><span class="tocsublinknumber">3.2<tt>&nbsp;</tt></span><a href="#%28part._.Course_.Grade%29" class="tocsubseclink" data-pltdoc="x">Course Grade</a></td></tr><tr><td><span class="tocsublinknumber">3.3<tt>&nbsp;</tt></span><a href="#%28part._project%29" class="tocsubseclink" data-pltdoc="x">Course Project</a></td></tr><tr><td><span class="tocsublinknumber">3.4<tt>&nbsp;</tt></span><a href="#%28part._pres-policy%29" class="tocsubseclink" data-pltdoc="x">Presentation Policy</a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.Help%29" class="tocsubseclink" data-pltdoc="x">Help</a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._.Fine_.Print%29" class="tocsubseclink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span>&nbsp;</div><h2><a name="(part._2019_.Spring_-_406_-_.Compiler_.Construction_-_.Syllabus)"></a>2019 Spring - 406 - Compiler Construction - Syllabus</h2><p><div class="SIntrapara">This class is taught by <a href="http://jeapostrophe.github.io/home/">Jay McCarthy</a>. Call him Jay. Email him at
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">first-name DOT last-name AT gmail DOT com</span><span class="hspace"></span></span>.</div><div class="SIntrapara">We meet in Southwick 407 at TR 1100-1215.</div><div class="SIntrapara">Jay&rsquo;s office hours are TR 1230-1400 in DAN 341.</div><div class="SIntrapara">There is a mailing list hosted at
<a href="http://groups.google.com/group/uml-cs-406-Spring-2019">Google Groups</a>.  Use it to ask non-revealing
questions and receive answers, as well as general course
announcements. You are responsible for reading the content of this
mailing list.</div></p><h3>1<tt>&nbsp;</tt><a name="(part._.Important_.Course_.Details)"></a>Important Course Details</h3><p><div class="SIntrapara"><span style="font-weight: bold">Description.</span></div><div class="SIntrapara">Includes both theory and practice. A study of
grammars, specification and classes, the translation pipeline: lexical
analysis, parsing, semantic analysis, code generation and
optimization, and syntax-directed translation. Use of automatic
generation tools in the actual production of a complete compiler for
some language.</div></p><p>This course provides the following Essential Learning
Outcomes (ELOs):</p><p>Information Literacy (IL): The ability to use digital
technologies, communication tools and/or networks to define a problem
or an information need; devise an effective search
strategy;identify, locate, and evaluate appropriate sources; and
manage, synthesize, use and effectively communicate information
ethically and legally.</p><p><div class="SIntrapara">Applied and Integrative Learning (AIL): Applied and Integrative
Learning is an understanding and disposition that a student builds
across curriculum and co-curriculum, fostering learning between
courses or by connecting courses to experiential learning
opportunities.</div><div class="SIntrapara"><span style="font-weight: bold">Readings.</span> (EC) We&rsquo;ll be using the book
<a href="https://github.com/jsiek/Essentials-of-Compilation">Essentials
of Compilation</a>, by Jeremy Siek. For your convenience, I have included
a <a href="../notes/book.pdf">copy of the book in PDF form on this
site</a>. I highly recommend
<a href="https://www.cs.cmu.edu/~fp/courses/15213-s07/misc/asm64-handout.pdf">this
guide to X86-64 assembly</a>.</div><div class="SIntrapara"><span style="font-weight: bold">Policy.</span> We do not allow electronic devices,
such as laptops, phones, and tablets, to be used during class, without
an explicit accomodation exception. I will first ask you to put it
away and then I will ask you to leave.</div></p><h3>2<tt>&nbsp;</tt><a name="(part._lectures)"></a>Schedule</h3><p><table cellspacing="0" cellpadding="0" class="lectures"><tr><td><p><span style="font-weight: bold">Day</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="3"><p><span style="font-weight: bold">Date</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Topic</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Notes</span></p></td></tr><tr><td><p>1</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>01/22</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Preliminaries</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 1</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/1.pdf">1.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 1</p></blockquote></td></tr><tr><td><p>2</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>01/24</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Integers and Variables</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 2</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/2.pdf">2.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 11</p></blockquote></td></tr><tr><td><p>3</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>01/29</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Integers and Variables</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 2</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/3.pdf">3.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 27</p></blockquote></td></tr><tr><td><p>4</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>01/31</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Integers and Variables</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 2</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/4.pdf">4.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 33</p></blockquote></td></tr><tr><td><p>5</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/05</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Register Allocation</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 3</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/5.pdf">5.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 51</p></blockquote></td></tr><tr><td><p>6</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/07</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Register Allocation</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 3</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/6.pdf">6.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 55</p></blockquote></td></tr><tr><td><p>7</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/12</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Register Allocation</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 3</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/7.pdf">7.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 59</p></blockquote></td></tr><tr><td><p>8</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/14</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control Flow</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 4</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/8.pdf">8.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 67</p></blockquote></td></tr><tr><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/19</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="3"><p>No class</p></td></tr><tr><td><p>9</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/21</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control Flow</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 4</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/9.pdf">9.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 85</p></blockquote></td></tr><tr><td><p>10</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/26</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control Flow</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 4</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/10.pdf">10.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 89</p></blockquote></td></tr><tr><td><p>11</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>02/28</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Heap Allocation and GC</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 5</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/11.pdf">11.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 96</p></blockquote></td></tr><tr><td><p>12</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/05</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Heap Allocation and GC</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 5</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/12.pdf">12.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 111</p></blockquote></td></tr><tr><td><p>13</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/07</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Heap Allocation and GC</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 5 </p><p><span style="font-weight: bold">Due:</span> <a href="#%28part._check1%29" data-pltdoc="x">Checkpoint #1</a></p><p><span style="font-weight: bold">Links:</span> <a href="../notes/13.pdf">13.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 125</p></blockquote></td></tr><tr><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/12</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="3"><p>No class</p></td></tr><tr><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/14</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="3"><p>No class</p></td></tr><tr><td><p>14</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/19</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Functions and Closures</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 6</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/14.pdf">14.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 126</p></blockquote></td></tr><tr><td><p>15</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/21</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Functions and Closures</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 6</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/15.pdf">15.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 145</p></blockquote></td></tr><tr><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/26</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td colspan="3"><p>No class</p></td></tr><tr><td><p>16</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>03/28</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Functions and Closures</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 6 &amp; 7</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/16.pdf">16.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 153</p></blockquote></td></tr><tr><td><p>17</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/02</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Functions and Closures</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>EC 7</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/17.pdf">17.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 163</p></blockquote></td></tr><tr><td><p>18</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/04</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control-Flow Analysis</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>k-CFA (see
<a href="http://matt.might.net/articles/implementation-of-kcfa-and-0cfa/">Matt
Might&rsquo;s blog</a>)</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/18.pdf">18.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 164</p></blockquote></td></tr><tr><td><p>19</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/09</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control-Flow Analysis</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>cont.</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/19.pdf">19.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 164</p></blockquote></td></tr><tr><td><p>20</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/11</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Control-Flow Analysis</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>cont.</p><p><span style="font-weight: bold">Links:</span> <a href="../notes/20.pdf">20.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 164</p></blockquote></td></tr><tr><td><p>21</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/16</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Macro Expansion</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p><a href="https://www2.ccs.neu.edu/racket/pubs/snapl19-cffk.pdf">Macro History</a> <a href="ftp://www.cs.indiana.edu/pub/techreports/TR206.pdf">Naive
Expansion by Example</a></p><p><span style="font-weight: bold">Links:</span> <a href="../notes/21.pdf">21.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 164</p></blockquote></td></tr><tr><td><p>22</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/18</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Macro Expansion</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p><a href="http://dl.acm.org/citation.cfm?id=99607">Hygeine through Marks</a></p><p><span style="font-weight: bold">Links:</span> <a href="../notes/22.pdf">22.pdf</a></p><p><span style="font-weight: bold">Next Task:</span> 166</p></blockquote></td></tr><tr><td><p>23</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/23</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Macro Expansion</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p><a href="http://www.cs.utah.edu/plt/scope-sets/">Sets of Scopes</a> - <a href="https://www.youtube.com/watch?v=rs27lkgq3Og">Video 1</a> - <a href="https://www.youtube.com/watch?v=Or_yKiI3Ha4">Video 2</a></p><p></p><p><span style="font-weight: bold">Next Task:</span> 166</p></blockquote></td></tr><tr><td><p>24</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/25</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Compilation Tools</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>Parser Generators</p><p></p><p><span style="font-weight: bold">Next Task:</span> 166</p></blockquote></td></tr><tr><td><p>25</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Tue</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>04/30</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Compilation Tools</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>LLVM - <a href="https://www.youtube.com/watch?v=VKIv_Bkp4pk">LLVM video</a></p><p></p><p><span style="font-weight: bold">Next Task:</span> 168</p></blockquote></td></tr><tr><td><p>26</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Thu</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>05/02</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>Compilation Tools</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><blockquote class="SubFlow"><p>Nanopass - <a href="https://www.youtube.com/watch?v=Os7FE3J-U5Q">Nanopass video</a></p><p></p><p><span style="font-weight: bold">Due:</span> <a href="#%28part._check2%29" data-pltdoc="x">Checkpoint #2</a></p><p></p><p><span style="font-weight: bold">Next Task:</span> 170</p></blockquote></td></tr></table></p><h3>3<tt>&nbsp;</tt><a name="(part._policies)"></a>Work in this Course</h3><p><div class="SIntrapara">If you do a little work for this course every day,
including reading the textbook and working on the assignments, you
will find the course rewarding and easy enough. If you just search for
answers in course material as you try to complete work, you will not
do well.</div><div class="SIntrapara">I highly recommend that you read
<a href="http://www.forbes.com/sites/artcarden/2012/01/12/dear-student-i-dont-lie-awake-at-night-thinking-of-ways-to-ruin-your-life/">this
article</a> about grading. I also recommend you read
<a href="http://modelviewculture.com/pieces/the-pressures-of-success-in-undergraduate-computer-science-programs">this
article</a> about the stress that you may experience in a computer
science program. Please try to make healthy, productive choices in
your life. I would love the opportunity to help you in any ways I
can.</div></p><h4>3.1<tt>&nbsp;</tt><a name="(part._checks)"></a>Checkpoints</h4><p><div class="SIntrapara">As you work on the projects in the class, you will reach
<a href="#%28part._project%29" data-pltdoc="x">various milestones</a> and report back on your
progress. These checkpoints are the main way that I will be able
evaluate your work.</div><div class="SIntrapara">You will argue that you completed the <a href="#%28part._project%29" data-pltdoc="x">tasks</a>
by showing your code, test cases, proofs, paperwork, and other
verification artifacts.</div><div class="SIntrapara">You will present evidence that the work is yours by (for
example) submitting a Git repository with regular commits (at least
one per task) over the course of the semester; paperwork done in
your own handwriting; your thoughts on the unique design and
problem-solving angles you applied; etc.</div><div class="SIntrapara">If you submit a Git repository, you can create an
archive (i.e. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">zip</span><span class="hspace"></span></span>) of it (including the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">.git</span><span class="hspace"></span></span>
directory!) or you can send me a link to a <span style="font-weight: bold">private</span> repository
online.</div></p><h5>3.1.1<tt>&nbsp;</tt><a name="(part._check1)"></a>Checkpoint #1</h5><p>Prepare a presentation (see
<a href="#%28part._pres-policy%29" data-pltdoc="x">Presentation Policy</a> for how to submit) that presents an argument
for which <a href="#%28part._project%29" data-pltdoc="x">tasks</a> you completed in your project. If
this argument is not well-formulated, or if you present work that is
not your own, then you will get an <span class="RktInBG"><span class="hspace"></span><span class="RktIn">F</span><span class="hspace"></span></span> on the assignment.</p><h5>3.1.2<tt>&nbsp;</tt><a name="(part._check2)"></a>Checkpoint #2</h5><p>Prepare a presentation (see
<a href="#%28part._pres-policy%29" data-pltdoc="x">Presentation Policy</a> for how to submit) that presents an argument
for which <a href="#%28part._project%29" data-pltdoc="x">tasks</a> you completed in your project. If
this argument is not well-formulated, or if you present work that is
not your own, then you will get an <span class="RktInBG"><span class="hspace"></span><span class="RktIn">F</span><span class="hspace"></span></span> on the assignment.</p><h4>3.2<tt>&nbsp;</tt><a name="(part._.Course_.Grade)"></a>Course Grade</h4><p>Your course grade is based on how many tasks you complete in the
course project on the second checkpoint. However, this grade is
modified by two things: first, if you are a graduate student or
Honors-by-contract student, then you are expected to do more, so it
will be reduced by one rank (i.e., A becomes B, S becomes A, and so
on.); second, if you did not achieve a C on the first checkpoint,
then your grade is also reduced by one rank.</p><h4>3.3<tt>&nbsp;</tt><a name="(part._project)"></a>Course Project</h4><p>Your main project in this course is to build a compiler for a
high-level language to X86-64 assembly code. The lectures (and
textbook) will walk through a particular design for this compiler that
you will be expected to implement. There is a lot of flexibility about
how you do this; in particular, you can implement it in whatever
language you want. However, we mandate the source and target
languages, as well as the overall design.</p><p><div class="SIntrapara">The textbook contains many code excerpts that are meant to be
illustrative of how you could program the compiler. Do <span style="font-weight: bold">not</span> copy
them. You should do your own work. In addition, you should use the
language you want to use, not necessarily Racket. Furthermore, the
code excerpts in the book are not complete and need a large amount of
massaging to function properly, even if you use Racket.</div><div class="SIntrapara">Following is a list of the tasks you should accomplish during the
class <span style="font-weight: bold">in the order you should do them</span>. In a few small cases, it
is technically possible to do them in a different order, but don&rsquo;t!</div><div class="SIntrapara">When you complete one, you should make a separate commit message
in your repository that says <span class="RktInBG"><span class="hspace"></span><span class="RktIn">Completed "Task #N - Description"</span><span class="hspace"></span></span>. This will make it easy for me to understand what you
think you did.</div><div class="SIntrapara">You can download this list in the
<a href="http://todotxt.org">Todo.txt</a> format: <a href="../notes/TODO">TODO</a>. You
could commit this file to your repository and mark tasks as completed
when you do them.</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0" class="tasks"><tr><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Grade</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Time</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Lines</span></p></td></tr><tr><td><p><span style="font-weight: bold">1</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Define data types for R0 program ASTs.</span> <br/> <br/> Recall the definition
of R0: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict.png" alt="image" width="205.828125" height="34.560546875"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+10 / -0 (0.20%) (10)</p></td></tr><tr><td><p><span style="font-weight: bold">2</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a pretty-printer for R0 programs.</span> <br/> <br/> You could print them
out in a syntax you like, or just as simple ASTs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+20 / -5 (0.49%) (25)</p></td></tr><tr><td><p><span style="font-weight: bold">3</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Build a test suite of a dozen R0 programs.</span> <br/> <br/> I do not recommend
writing a parser for R0 yet. Instead, directly embed the construction
of the program ASTs into your test suite. Furthermore, you&rsquo;ll have to
work out by hand what value these programs should return and verify
that your interpreter returns the correct values.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+22 / -1 (0.90%) (46)</p></td></tr><tr><td><p><span style="font-weight: bold">4</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write an interpreter for R0 programs.</span> <br/> <br/> This interpreter should
have an interactive mode that interacts with the user on
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> and an automated mode that takes the input from a test
case. In some languages, it is possible to make the automated mode use
the interactive mode by faking input, but if you can&rsquo;t do that, just
make two different modes.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+16 / -1 (1.20%) (61)</p></td></tr><tr><td><p><span style="font-weight: bold">5</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a function that generates an R0 program that computes 2^N for a given N.</span> <br/> <br/> The purpose of this function is so that you can
easily generate very large test programs. Use it to test your
interpreter!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+16 / -3 (1.45%) (74)</p></td></tr><tr><td><p><span style="font-weight: bold">6</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a function that generates a random R0 program of depth N.</span> <br/> <br/> For example, if N is zero, then it should generate a random
number of a call to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span>, but if it is positive, then it
should generate a negation or binary addition of programs of smaller
depth.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+34 / -6 (2.01%) (102)</p></td></tr><tr><td><p><span style="font-weight: bold">7</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your test suite to generate a large number of random programs.</span> <br/> <br/> You won&rsquo;t be able to predict what their value will be, but
you will be able to test if the interpreter crashes and these will be
useful as you extend the language. You&rsquo;ll have to figure out a way to
detect the number of calls to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> and automatically provide
an appropriate amount of input.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>0m (0.00%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+3 / -1 (2.04%) (104)</p></td></tr><tr><td><p><span style="font-weight: bold">8</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some optimizer tests.</span> <br/> <br/> Verify that some programs are
actually simplified by your optimizer.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+38 / -18 (2.44%) (124)</p></td></tr><tr><td><p><span style="font-weight: bold">9</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write an optimizer for R0.</span> <br/> <br/> This is a function that takes R0
programs and returns new R0 programs that are simpler. In particular,
they should remove all computations that do not depend on
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+27 / -1 (2.95%) (150)</p></td></tr><tr><td><p><span style="font-weight: bold">10</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your test suite to use your optimizer.</span> <br/> <br/> You should
ensure that every program returns the same value when interpreted
directly and after optimized.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+22 / -8 (3.22%) (164)</p></td></tr><tr><td><p><span style="font-weight: bold">11</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from R0 to R1.</span> <br/> <br/> Recall the definition
of R1: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_2.png" alt="image" width="238.626953125" height="34.2802734375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+6 / -1 (3.32%) (169)</p></td></tr><tr><td><p><span style="font-weight: bold">12</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty printer from R0 to R1.</span> <br/> <br/> Again, use
whichever syntax you think looks nice.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+5 / -2 (3.38%) (172)</p></td></tr><tr><td><p><span style="font-weight: bold">13</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen test R1 programs.</span> <br/> <br/> Obviously, these should
incorporate variables and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span> expressions.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -4 (3.85%) (196)</p></td></tr><tr><td><p><span style="font-weight: bold">14</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from R0 to R1.</span> <br/> <br/> You&rsquo;ll need to
incorporate an evironment that maps variables to values.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+12 / -6 (3.97%) (202)</p></td></tr><tr><td><p><span style="font-weight: bold">15</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your random generation function from R0 to R1.</span> <br/> <br/> You
should have an environment that records which variables are bound by
prior <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span>s and allow these variables to be used in depth-0
expressions.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -9 (4.17%) (212)</p></td></tr><tr><td><p><span style="font-weight: bold">16</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some R1-specific optimizer tests.</span> <br/> <br/> Again, to verify that
you are actually optimizing the programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+11 / -9 (4.21%) (214)</p></td></tr><tr><td><p><span style="font-weight: bold">17</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your optimizer from R0 to R1.</span> <br/> <br/> In particular, you
should inline variables that have been reduced to values or other
variables.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+21 / -7 (4.48%) (228)</p></td></tr><tr><td><p><span style="font-weight: bold">18</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Define data types for X0 program ASTs.</span> <br/> <br/> Recall the definition
of X0: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_3.png" alt="image" width="511.0458984375" height="176.802734375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (1h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+35 / -2 (5.13%) (261)</p></td></tr><tr><td><p><span style="font-weight: bold">19</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write an emitter for X0 programs.</span> <br/> <br/> This should emit in the
syntax of the assembler you will use. It should take a parameter
whether variables should be allowed in the output (which only makes
sense for debugging.)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>11m (0.39%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+54 / -12 (5.96%) (303)</p></td></tr><tr><td><p><span style="font-weight: bold">20</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Build a test suite of a dozen X0 programs.</span> <br/> <br/> I recommend having
your interpreter only return the value of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">rax</span><span class="hspace"></span></span> on a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">retq</span><span class="hspace"></span></span>, rather the entire state of the machine. Ideally, these
programs will be manually compiled versions of some of your test R1
programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+66 / -2 (7.21%) (367)</p></td></tr><tr><td><p><span style="font-weight: bold">21</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write an interpreter for X0 programs.</span> <br/> <br/> The register file is a
simple fixed vector where the registers are indices and the stack is a
stack. You&rsquo;ll have to have a special case for when you <span class="RktInBG"><span class="hspace"></span><span class="RktIn">callq</span><span class="hspace"></span></span>
to a "system" function, like <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">print</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>18m (0.64%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+59 / -10 (8.18%) (416)</p></td></tr><tr><td><p><span style="font-weight: bold">22</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect your X0 test suite to your system assembler.</span> <br/> <br/> I recommend
creating an intermediate file containing the assembly on disk, so that
you can look at the assembly you producing during compilation in the
future. Make sure that you automatically compare the results of the
assembled program and your interpreter.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>15m (0.54%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+105 / -51 (9.24%) (470)</p></td></tr><tr><td><p><span style="font-weight: bold">23</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Define data types for C0 program ASTs.</span> <br/> <br/> Recall the definition
of C0: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_4.png" alt="image" width="247.9580078125" height="105.12109375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -3 (9.55%) (486)</p></td></tr><tr><td><p><span style="font-weight: bold">24</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a pretty printer for C0 programs.</span> <br/> <br/> This is purely a
debugging tool.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (2h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -1 (10.08%) (513)</p></td></tr><tr><td><p><span style="font-weight: bold">25</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Build a test suite of a dozen C0 programs.</span> <br/> <br/> Ideally, these
programs will be manually compiled versions of your test R1 programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>9m (0.32%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+52 / -1 (11.09%) (564)</p></td></tr><tr><td><p><span style="font-weight: bold">26</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write an interpreter for C0 programs.</span> <br/> <br/> This should use a
global environment for variables values and should error when
undefined variables are referenced.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+33 / -6 (11.62%) (591)</p></td></tr><tr><td><p><span style="font-weight: bold">27</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a few tests for uniquify that predict its output.</span> <br/> <br/> This
is only possible if your unique names are predictable. These tests
should be explicitly designed to have multiple occurrences of the same
variable in the input that mean different things.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+32 / -11 (12.03%) (612)</p></td></tr><tr><td><p><span style="font-weight: bold">28</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the uniquify pass for R1 programs.</span> <br/> <br/> This accepts R1
programs and returns new R1 programs that are guaranteed to use unique
variables in each <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span> expression. I recommend doing
something to make the unique names deterministic, so it is possible to
write tests.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+26 / -1 (12.52%) (637)</p></td></tr><tr><td><p><span style="font-weight: bold">29</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect uniquify to your test suite.</span> <br/> <br/> Ensure that every test
program behaves the same before and after the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">uniquify</span><span class="hspace"></span></span> pass
by using the R1 interpreter.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -3 (12.64%) (643)</p></td></tr><tr><td><p><span style="font-weight: bold">30</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for resolve-complex that predict its output.</span> <br/> <br/> Work through the complicated examples and especially ensure
that you don&rsquo;t introduce aliases unnecessarily.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+30 / -10 (13.03%) (663)</p></td></tr><tr><td><p><span style="font-weight: bold">31</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the resolve-complex pass for R1 programs.</span> <br/> <br/> This
accepts R1 programs and returns new R1 programs that do not use
complex expressions in argument positions. We can express this as a
new language: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_5.png" alt="image" width="243.2822265625" height="76.8408203125"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>16m (0.57%) (3h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+33 / -1 (13.66%) (695)</p></td></tr><tr><td><p><span style="font-weight: bold">32</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect resolve-complex to your test suite.</span> <br/> <br/> Ensure that every
test program behaves the same before and after
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">resolve-complex</span><span class="hspace"></span></span> by using the R1 interpreter. You could also
write a function that checks to see if your result is in the correct
form. Remember, this pass requires <span class="RktInBG"><span class="hspace"></span><span class="RktIn">uniquify</span><span class="hspace"></span></span> to have already
run.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>38m (1.36%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+74 / -31 (14.51%) (738)</p></td></tr><tr><td><p><span style="font-weight: bold">33</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for explicate-control that predict its output.</span> <br/> <br/> Work through the complicated examples and especially ensure
that the order of operations (especially <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> calls) is
preserved.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>13m (0.46%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+84 / -27 (15.63%) (795)</p></td></tr><tr><td><p><span style="font-weight: bold">34</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the explicate-control pass for R1 programs.</span> <br/> <br/> This
accepts R1 programs and returns new C0 programs by lifting variables
definitions outside of the bound expression position of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span>
forms. Remember to use the mutually recursive functions
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">explicate-control-tail</span><span class="hspace"></span></span> and
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">explicate-control-assign</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+22 / -1 (16.04%) (816)</p></td></tr><tr><td><p><span style="font-weight: bold">35</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect explicate-control to your test suite.</span> <br/> <br/> Ensure that
every test program behaves the same before and after
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">explicate-control</span><span class="hspace"></span></span> by using the C0 interpreter. Remember,
this pass requires <span class="RktInBG"><span class="hspace"></span><span class="RktIn">resolve-complex</span><span class="hspace"></span></span> to have already run.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -3 (16.16%) (822)</p></td></tr><tr><td><p><span style="font-weight: bold">36</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a few tests for uncover-locals that predict its output.</span> <br/> <br/> This should be very easy to do!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+39 / -19 (16.55%) (842)</p></td></tr><tr><td><p><span style="font-weight: bold">37</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the uncover-locals pass for C0 programs.</span> <br/> <br/> This pass
collects the set of variables used in the program and stores them for
later passes in the auxiliary field of C0 programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+18 / -1 (16.89%) (859)</p></td></tr><tr><td><p><span style="font-weight: bold">38</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect uncover-locals to your test suite.</span> <br/> <br/> Ensure that every
test program behaves the same before and after
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">uncover-locals</span><span class="hspace"></span></span> by using the C0 interpter. (This is trivial
because <span class="RktInBG"><span class="hspace"></span><span class="RktIn">uncover-locals</span><span class="hspace"></span></span> shouldn&rsquo;t effect the behavior of
programs. You&rsquo;re just doing this to make sure you call it and to make
you didn&rsquo;t accidentally change anything important during this pass.)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (4h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+85 / -76 (17.06%) (868)</p></td></tr><tr><td><p><span style="font-weight: bold">39</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for select-instr that predict its output.</span> <br/> <br/> You&rsquo;ll want to make sure that you maintain the correct order
and select the write assembly instructions.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+40 / -8 (17.69%) (900)</p></td></tr><tr><td><p><span style="font-weight: bold">40</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the select-instr pass for C0 programs.</span> <br/> <br/> This pass
takes C0 programs and returns X0 programs. It should preserve the set
of variables used in the program. Remember to use helper functions for
each kind of C0 AST.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+32 / -1 (18.30%) (931)</p></td></tr><tr><td><p><span style="font-weight: bold">41</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect select-instr to your test suite.</span> <br/> <br/> Ensure that every
test program behaves the same before and after
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">select-instr</span><span class="hspace"></span></span> by using the X0 interpreter.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>9m (0.32%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+32 / -20 (18.54%) (943)</p></td></tr><tr><td><p><span style="font-weight: bold">42</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a few tests for assign-homes that predict its output.</span> <br/> <br/> You&rsquo;ll want to make sure that the output program contains no
variables and that variables are assigned homes consistently.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>8m (0.29%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+41 / -5 (19.25%) (979)</p></td></tr><tr><td><p><span style="font-weight: bold">43</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the assign-homes pass for X0 programs.</span> <br/> <br/> This pass
takes X0 programs and returns new X0 programs which do not mention
variables. For now, it should just assign everything to consistent
stack locations in an arbitrary way based on the set of variables used
in the program.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>F+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+34 / -1 (19.89%) (1012)</p></td></tr><tr><td><p><span style="font-weight: bold">44</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect assign-homes to your test suite.</span> <br/> <br/> Ensure that every
test program behaves the same before and after <span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-homes</span><span class="hspace"></span></span>
by using the X0 interpreter. You may want to also include a check
that guarantees the result contains no variable references.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>14m (0.50%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+77 / -53 (20.37%) (1036)</p></td></tr><tr><td><p><span style="font-weight: bold">45</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for patch-instructions that predict its output.</span> <br/> <br/> You&rsquo;ll want to make sure memory references are legal.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+20 / -5 (20.66%) (1051)</p></td></tr><tr><td><p><span style="font-weight: bold">46</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the patch-instructions pass for X0 programs.</span> <br/> <br/> This
pass takes X0 programs and returns new X0 programs which mention
memory either zero or one times per instruction.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+26 / -1 (21.15%) (1076)</p></td></tr><tr><td><p><span style="font-weight: bold">47</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect patch-instructions to your test suite.</span> <br/> <br/> Ensure that
every test program behaves the same before and after
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">patch-instructions</span><span class="hspace"></span></span> by using the X0 interpreter. Remember,
this pass assumes that <span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-homes</span><span class="hspace"></span></span> has run.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+8 / -2 (21.27%) (1082)</p></td></tr><tr><td><p><span style="font-weight: bold">48</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement your language runtime.</span> <br/> <br/> Initially, this is just two
functions: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read_int</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">print_int</span><span class="hspace"></span></span>. The first
corresponds to the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> call and the second is automatically
used at the end of programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (5h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+17 / -3 (21.55%) (1096)</p></td></tr><tr><td><p><span style="font-weight: bold">49</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the main-generation pass for X0 programs.</span> <br/> <br/> This pass
should extend your final X0 programs with the prelude and postlude
operations that set up the stack pointer appropriately for your code.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>13m (0.46%) (6h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+37 / -13 (22.02%) (1120)</p></td></tr><tr><td><p><span style="font-weight: bold">50</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect your test suite to your system assembler and language runtime.</span> <br/> <br/> Close the final knot and get an actual compiler by
having your final X0 programs (that come out of
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">main-generation</span><span class="hspace"></span></span>) sent to the system assembler and linked
with your language runtime. You finally have a working compiler!
Aren&rsquo;t you proud?</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>D+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>47m (1.68%) (6h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+268 / -206 (23.24%) (1182)</p></td></tr><tr><td><p><span style="font-weight: bold">51</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen tests for uncover-live that predict its output.</span> <br/> <br/> I don&rsquo;t remember using examples from real programs, because
they are likely to be too complicated. Instead, use simple ones that
you come up with by hand.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>10m (0.36%) (7h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+65 / -7 (24.38%) (1240)</p></td></tr><tr><td><p><span style="font-weight: bold">52</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the uncover-live pass for X0 programs.</span> <br/> <br/> This pass
takes X0 programs and returns new X0 programs where the
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">block</span><span class="hspace"></span></span>&rsquo;s auxiliary field contains a list of live-after sets
corresponds to each instruction. Make sure that you add registers to
the live sets, not just variables.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>21m (0.75%) (7h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+77 / -16 (25.57%) (1301)</p></td></tr><tr><td><p><span style="font-weight: bold">53</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen tests for build-interferences that predict its output.</span> <br/> <br/> These should be the same programs you tested
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">uncover-live</span><span class="hspace"></span></span> with.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (7h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -3 (26.07%) (1326)</p></td></tr><tr><td><p><span style="font-weight: bold">54</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the build-interferences pass for X0 programs.</span> <br/> <br/> Don&rsquo;t
go overboard with finding and using a graph library for your
language. These are really simple graphs. Relax.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>17m (0.61%) (7h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+53 / -3 (27.05%) (1376)</p></td></tr><tr><td><p><span style="font-weight: bold">55</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen tests for color-graph that predict its output.</span> <br/> <br/> In addition to tests that use your
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">build-interferences</span><span class="hspace"></span></span> results, you should also make some
examples that correspond to Sudoku boards.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (7h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+1 / -1 (27.05%) (1376)</p></td></tr><tr><td><p><span style="font-weight: bold">56</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the color-graph function on arbitrary graphs.</span> <br/> <br/> Using
the greedy saturation algorithm described in the book.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>28m (1.00%) (8h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+45 / -4 (27.86%) (1417)</p></td></tr><tr><td><p><span style="font-weight: bold">57</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Replace assign-homes with a new pass named assign-registers and implement the stupid-allocate-registers pass for X0 programs.</span> <br/> <br/> <span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-registers</span><span class="hspace"></span></span> pass should expect an
assignment of variables to registers or stack locations in the
auxiliary field and remove variables from the program by using the
given mapping. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">stupid-allocate-registers</span><span class="hspace"></span></span> will generate this
mapping from the set of variables by assigning them all to stack
locations. This is a trivial generalization of
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-homes</span><span class="hspace"></span></span>!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (8h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+3 / -4 (27.84%) (1416)</p></td></tr><tr><td><p><span style="font-weight: bold">58</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen tests for the assign-registers that predict its output and check their behavior.</span> <br/> <br/> You should manually come up with
register assignments for some sample programs, verify that
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-registers</span><span class="hspace"></span></span> (when given those assignments) does it job,
and check that the programs behave the same as they did before
assignment.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (8h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+4 / -2 (27.87%) (1418)</p></td></tr><tr><td><p><span style="font-weight: bold">59</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen tests for allocate-registers that predict its output.</span> <br/> <br/> These should be the same programs you tested
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">color-graph</span><span class="hspace"></span></span> with. Make sure there are tests that actually
spill to the stack.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (8h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+23 / -23 (27.87%) (1418)</p></td></tr><tr><td><p><span style="font-weight: bold">60</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Replace stupid-allocate-registers with a new allocate-registers pass on X0 programs.</span> <br/> <br/> This pass will assume <span class="RktInBG"><span class="hspace"></span><span class="RktIn">uncover-live</span><span class="hspace"></span></span>
and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">build-interferences</span><span class="hspace"></span></span> have been run and use
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">color-graph</span><span class="hspace"></span></span> to construct a register assignment for
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign-registers</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>20m (0.71%) (8h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+47 / -18 (28.45%) (1447)</p></td></tr><tr><td><p><span style="font-weight: bold">61</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update the main-generation pass to save and restore callee-saved registers.</span> <br/> <br/> Start off by saving and restoring all
callee-saved registers, then make it sensitive to what you actually
use.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>23m (0.82%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+70 / -50 (28.84%) (1467)</p></td></tr><tr><td><p><span style="font-weight: bold">62</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect your test suite to the new main-generation and allocate-registers passes.</span> <br/> <br/> You now have a better compiler!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>C+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>14m (0.50%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -14 (28.94%) (1472)</p></td></tr><tr><td><p><span style="font-weight: bold">63</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a few test programs that have opportunities for move-biasing to be effective.</span> <br/> <br/> The book contain some examples. You
should come up with at least one R1 program that has the property;
in addition to X0 programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>B-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+49 / -3 (29.84%) (1518)</p></td></tr><tr><td><p><span style="font-weight: bold">64</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your build-interferences pass to construct a move-graph.</span> <br/> <br/> Update your <span class="RktInBG"><span class="hspace"></span><span class="RktIn">build-interference</span><span class="hspace"></span></span> tests to check
that the move-graph is constructed correctly.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>B</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -13 (30.14%) (1533)</p></td></tr><tr><td><p><span style="font-weight: bold">65</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your color-graph function to incorporate move-biasing with an optional input argument.</span> <br/> <br/> Translate your move-biasing tests to
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">color-graph</span><span class="hspace"></span></span> problems and expected outputs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>B+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+13 / -6 (30.27%) (1540)</p></td></tr><tr><td><p><span style="font-weight: bold">66</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your allocate-registers pass to make use of the move-biasing feature of color-graph.</span> <br/> <br/> This should be a trivial
step of connecting the dots.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>B+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>9m (0.32%) (9h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+36 / -32 (30.35%) (1544)</p></td></tr><tr><td><p><span style="font-weight: bold">67</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from R1 to R2.</span> <br/> <br/> Recall the definition of
R2: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_6.png" alt="image" width="314.150390625" height="63.12109375"/> <br/> I recommend
<span class="emph">not</span> making explicit constructors for binary subtraction,
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">and</span><span class="hspace"></span></span>, or <span class="RktInBG"><span class="hspace"></span><span class="RktIn">or</span><span class="hspace"></span></span>, but have those be pseudo-ASTs that
expand to other forms. For example, in Racket,
<span class="RktPn">(</span><span class="RktSym">define</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">make-and-ast</span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">make-if-ast</span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">make-false-ast</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span>. This is not required, but will simplify the
rest of your compiler. You could do this with <span class="RktInBG"><span class="hspace"></span><span class="RktIn">not</span><span class="hspace"></span></span> as well
and turn some of the comparisons into <span class="RktInBG"><span class="hspace"></span><span class="RktIn">not</span><span class="hspace"></span></span>&rsquo;d versions of
others, but I don&rsquo;t recommend that, because X86-64 supports all of
these operations nicely. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">and</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">or</span><span class="hspace"></span></span> are
specifically useful because their short-circuiting behavior is
annoying to implement otherwise.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>B+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -1 (30.71%) (1562)</p></td></tr><tr><td><p><span style="font-weight: bold">68</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty printer from R1 to R2.</span> <br/> <br/> Again, use
whichever syntax you think looks nice.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+6 / -2 (30.78%) (1566)</p></td></tr><tr><td><p><span style="font-weight: bold">69</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen test R2 programs.</span> <br/> <br/> Obviously, these should
incorporate the new features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+43 / -1 (31.61%) (1608)</p></td></tr><tr><td><p><span style="font-weight: bold">70</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from R1 to R2.</span> <br/> <br/> There&rsquo;s nothing very
special about this.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+7 / -2 (31.71%) (1613)</p></td></tr><tr><td><p><span style="font-weight: bold">71</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write type-checker tests for R2.</span> <br/> <br/> These should be programs
that fail to type-check.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+60 / -41 (32.08%) (1632)</p></td></tr><tr><td><p><span style="font-weight: bold">72</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a type-checker for R2.</span> <br/> <br/> You&rsquo;ll need an environment
mapping variables to their types. Integrate this into your R2 tests so
that every program you&rsquo;ve written is type-checked before being used.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>18m (0.64%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+124 / -75 (33.05%) (1681)</p></td></tr><tr><td><p><span style="font-weight: bold">73</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your random generation function from R1 to R2.</span> <br/> <br/> You
should have two helper functions. The first should generate an R2
program that returns a number and the other should generate one that
returns a boolean. You&rsquo;ll need to extend your environment to record
the type of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span>-bound variables.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>18m (0.64%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+34 / -14 (33.44%) (1701)</p></td></tr><tr><td><p><span style="font-weight: bold">74</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some R2-specific optimizer tests.</span> <br/> <br/> Again, to verify that
you are actually optimizing the programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (10h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+27 / -6 (33.85%) (1722)</p></td></tr><tr><td><p><span style="font-weight: bold">75</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your optimizer from R1 to R2.</span> <br/> <br/> You should expand the
partial evaluation of boolean operations and by removing <span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span>s
with known values. Another thing is to remove <span class="RktInBG"><span class="hspace"></span><span class="RktIn">not</span><span class="hspace"></span></span>s by
flipping the branches of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span>s. If you substitute variables
are bound to <span class="RktInBG"><span class="hspace"></span><span class="RktIn">(not var)</span><span class="hspace"></span></span>, then you can do this more completely
too.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>10m (0.36%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+51 / -30 (34.26%) (1743)</p></td></tr><tr><td><p><span style="font-weight: bold">76</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the uniquify pass from R1 to R2 programs, with a few test cases to check its output.</span> <br/> <br/> The new features don&rsquo;t meaningfully
change this pass.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -4 (34.36%) (1748)</p></td></tr><tr><td><p><span style="font-weight: bold">77</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from C0 to C1.</span> <br/> <br/> Recall the definition of
C1: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_7.png" alt="image" width="347.46875" height="63.12109375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+6 / -1 (34.46%) (1753)</p></td></tr><tr><td><p><span style="font-weight: bold">78</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty-printer from C0 to C1 programs.</span> <br/> <br/> The
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">goto</span><span class="hspace"></span></span>s everywhere will be a little ugly.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -2 (34.60%) (1760)</p></td></tr><tr><td><p><span style="font-weight: bold">79</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen C1 test programs.</span> <br/> <br/> Obviously, use the new
features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+51 / -3 (35.54%) (1808)</p></td></tr><tr><td><p><span style="font-weight: bold">80</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from C0 to C1 programs.</span> <br/> <br/> You&rsquo;ll want
to hold an environment mapping labels to tails for use with
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">goto</span><span class="hspace"></span></span>s.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+14 / -7 (35.68%) (1815)</p></td></tr><tr><td><p><span style="font-weight: bold">81</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from X0 to X1.</span> <br/> <br/> Recall the definition of
X1: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_8.png" alt="image" width="448.55859375" height="63.12109375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+10 / -2 (35.84%) (1823)</p></td></tr><tr><td><p><span style="font-weight: bold">82</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your emitter from X0 to X1 programs.</span> <br/> <br/> The only annoying
part is keeping track of the byte version of the registers.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+10 / -2 (35.99%) (1831)</p></td></tr><tr><td><p><span style="font-weight: bold">83</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen X1 test programs.</span> <br/> <br/> Obviously, use the new
features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>11m (0.39%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+38 / -3 (36.68%) (1866)</p></td></tr><tr><td><p><span style="font-weight: bold">84</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from X0 to X1 programs.</span> <br/> <br/> Use
bitmasking to pull out the appropriate byte from registers.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>13m (0.46%) (11h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+38 / -16 (37.11%) (1888)</p></td></tr><tr><td><p><span style="font-weight: bold">85</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the resolve-complex pass from R1 to R2 programs, with a few test cases to check its output.</span> <br/> <br/> The new features don&rsquo;t
meaningfully change this pass. Comparisons are complex, while
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span>s can be complex or expressions, depending on whether they
are in tail position. The test expression of an <span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span> should be
a comparison.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>72m (2.57%) (13h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+180 / -78 (39.12%) (1990)</p></td></tr><tr><td><p><span style="font-weight: bold">86</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the explicate-control pass from R1 to R2 programs, with a half-dozen tests that predict its output.</span> <br/> <br/> This will be much more
complicated than before, because you&rsquo;ll be outputing multiple labels
when there are <span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span>s in the code. You&rsquo;ll want to have a new
helper for predicate positions.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>44m (1.57%) (13h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+84 / -11 (40.55%) (2063)</p></td></tr><tr><td><p><span style="font-weight: bold">87</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the uncover-locals pass for C1 programs.</span> <br/> <br/> Nothing
exciting here.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (13h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -4 (40.65%) (2068)</p></td></tr><tr><td><p><span style="font-weight: bold">88</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the select-instr pass for C1 programs, with a few test cases to check its output.</span> <br/> <br/> This should actually quite easy because
the new C1 features map directly to new X1 features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>28m (1.00%) (14h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+75 / -15 (41.83%) (2128)</p></td></tr><tr><td><p><span style="font-weight: bold">89</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for the uncover-live pass.</span> <br/> <br/> In
particular, you need to make sure you are handling multiple blocks
correctly.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (14h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+1 / -1 (41.83%) (2128)</p></td></tr><tr><td><p><span style="font-weight: bold">90</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your uncover-live pass for X1 programs.</span> <br/> <br/> You&rsquo;ll need to
produce the blocks in topological order so you can identify the
appropriate after blocks.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>37m (1.32%) (15h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+94 / -23 (43.23%) (2199)</p></td></tr><tr><td><p><span style="font-weight: bold">91</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your build-interference pass for X1 programs, with a few test cases to check its output.</span> <br/> <br/> This should be easy. You should
update <span class="RktInBG"><span class="hspace"></span><span class="RktIn">alloc-registers</span><span class="hspace"></span></span> as well.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (15h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+18 / -16 (43.27%) (2201)</p></td></tr><tr><td><p><span style="font-weight: bold">92</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the patch-instructions pass for X1 programs, with a few test cases to check its output.</span> <br/> <br/> <span class="RktInBG"><span class="hspace"></span><span class="RktIn">cmpq</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">movzbq</span><span class="hspace"></span></span>
cannot have a constant in the second position.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>29m (1.04%) (15h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+58 / -5 (44.31%) (2254)</p></td></tr><tr><td><p><span style="font-weight: bold">93</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your runtime to support printing out booleans, in addition to integers.</span> <br/> <br/> Use a convenient syntax, but don&rsquo;t expose that
booleans are really numbers.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (15h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+6 / -1 (44.41%) (2259)</p></td></tr><tr><td><p><span style="font-weight: bold">94</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your main-generation pass for boolean-outputting programs.</span> <br/> <br/> You&rsquo;ll want to keep track the whole
time what the final type of the program is so you can print the right
kind of thing.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>11m (0.39%) (15h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+63 / -49 (44.68%) (2273)</p></td></tr><tr><td><p><span style="font-weight: bold">95</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your compiler to support conditional moves.</span> <br/> <br/> This
requires a change to the C and X languages. The most interesting
change is to the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">explicate-control</span><span class="hspace"></span></span> pass. You would use these
when the RHS of a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">let</span><span class="hspace"></span></span> is a simple <span class="RktInBG"><span class="hspace"></span><span class="RktIn">if</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>66m (2.36%) (16h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+88 / -51 (45.41%) (2310)</p></td></tr><tr><td><p><span style="font-weight: bold">96</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from R2 to R3.</span> <br/> <br/> Recall the definition
of R3: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_9.png" alt="image" width="269.5390625" height="48.8408203125"/> <br/> It is
important to understand that <span class="RktInBG"><span class="hspace"></span><span class="RktIn">vector</span><span class="hspace"></span></span>s are not arrays: the
field referenced or mutated is statically known. They are more like C
structures.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (16h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+11 / -3 (45.57%) (2318)</p></td></tr><tr><td><p><span style="font-weight: bold">97</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty printer from R2 to R3.</span> <br/> <br/> Again, use
whichever syntax you think looks nice.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (16h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+12 / -2 (45.76%) (2328)</p></td></tr><tr><td><p><span style="font-weight: bold">98</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen test R3 programs.</span> <br/> <br/> Make sure you create
different sized vectors and verify that shallow copying works.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -1 (46.29%) (2355)</p></td></tr><tr><td><p><span style="font-weight: bold">99</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from R2 to R3.</span> <br/> <br/> There&rsquo;s nothing very
special about this.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+10 / -4 (46.41%) (2361)</p></td></tr><tr><td><p><span style="font-weight: bold">100</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write type-checker tests for R3.</span> <br/> <br/> These should be programs
that fail to type-check.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -1 (46.77%) (2379)</p></td></tr><tr><td><p><span style="font-weight: bold">101</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your type-checker from R2 to R3.</span> <br/> <br/> This is not
very interesting.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+26 / -11 (47.06%) (2394)</p></td></tr><tr><td><p><span style="font-weight: bold">102</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your random generation function from R2 to R3.</span> <br/> <br/> You&rsquo;ll
need to have a new helper that generates a random vector of a certain
length with a certain type at a particular index.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>9m (0.32%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+28 / -5 (47.51%) (2417)</p></td></tr><tr><td><p><span style="font-weight: bold">103</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a function that generates an R3 program that uses N bytes of memory and makes it unreachable M times.</span> <br/> <br/> You&rsquo;ll use this for
testing garbage collection.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>A+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>33m (1.18%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+40 / -2 (48.26%) (2455)</p></td></tr><tr><td><p><span style="font-weight: bold">104</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some R3-specific optimizer tests.</span> <br/> <br/> Again, to verify that
you are actually optimizing the programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (17h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+7 / -4 (48.32%) (2458)</p></td></tr><tr><td><p><span style="font-weight: bold">105</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your optimizer from R2 to R3.</span> <br/> <br/> At the least, you&rsquo;ll
want to inline vectors that are never mutated and then remove uses of
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">vector-ref</span><span class="hspace"></span></span>. If you want to be really complicated, then when
a vector field is set to a constant, you can track that in the
continuation of the mutation with a variant of the environment mapping
variables to constants.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>21m (0.75%) (18h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+70 / -17 (49.36%) (2511)</p></td></tr><tr><td><p><span style="font-weight: bold">106</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Modify your type-checker so that it wraps every expression in its type.</span> <br/> <br/> You&rsquo;ll want a new data-structure like <span class="RktInBG"><span class="hspace"></span><span class="RktIn">has-type</span><span class="hspace"></span></span>
that stores an expression and its type. Update your tests so that they
verify this.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>52m (1.86%) (19h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+130 / -37 (51.19%) (2604)</p></td></tr><tr><td><p><span style="font-weight: bold">107</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the uniquify pass from R2 to R3 programs, with a few test cases to check its output.</span> <br/> <br/> The new features don&rsquo;t meaningfully
change this pass.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (19h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+53 / -28 (51.68%) (2629)</p></td></tr><tr><td><p><span style="font-weight: bold">108</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the expose-allocation pass on typed R3 programs.</span> <br/> <br/> You&rsquo;ll be transforming programs that mention
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">vector</span><span class="hspace"></span></span> into ones that use <span class="RktInBG"><span class="hspace"></span><span class="RktIn">allocate</span><span class="hspace"></span></span>. The language
has the following change: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_10.png" alt="image" width="282.787109375" height="34.560546875"/>
<br/> The most annoying part of this is synthesizing the
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">has-type</span><span class="hspace"></span></span> forms.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>23m (0.82%) (19h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+111 / -8 (53.71%) (2732)</p></td></tr><tr><td><p><span style="font-weight: bold">109</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your R3 interpreter to handle these new forms.</span> <br/> <br/> You can
have a very fake implementation of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">collect</span><span class="hspace"></span></span> (which does
nothing) and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">allocate</span><span class="hspace"></span></span> (which gets more space) if your
language supports growable arrays.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>16m (0.57%) (19h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+24 / -21 (53.76%) (2735)</p></td></tr><tr><td><p><span style="font-weight: bold">110</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the resolve-complex pass from R2 to R3 programs, with a few test cases to check its output.</span> <br/> <br/> The new features don&rsquo;t
meaningfully change this pass. The main annonyance is making sure you
preserve the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">has-type</span><span class="hspace"></span></span> information.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>22m (0.79%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+74 / -25 (54.73%) (2784)</p></td></tr><tr><td><p><span style="font-weight: bold">111</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from C1 to C2.</span> <br/> <br/> Recall the definition of
C2: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_11.png" alt="image" width="342.57421875" height="48.8408203125"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+15 / -3 (54.96%) (2796)</p></td></tr><tr><td><p><span style="font-weight: bold">112</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty-printer from C1 to C2 programs.</span> <br/> <br/> There&rsquo;s no
standard syntax here, so follow your bliss.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>4m (0.14%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+15 / -5 (55.16%) (2806)</p></td></tr><tr><td><p><span style="font-weight: bold">113</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for C2.</span> <br/> <br/> Using the new features!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+3 / -1 (55.20%) (2808)</p></td></tr><tr><td><p><span style="font-weight: bold">114</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from C1 to C2 programs.</span> <br/> <br/> Follow the
same strategy in interpreting allocation that you did for R3.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+19 / -7 (55.44%) (2820)</p></td></tr><tr><td><p><span style="font-weight: bold">115</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your explicate-control pass to target C2.</span> <br/> <br/> There&rsquo;s
nothing much interesting going here.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>14m (0.50%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+36 / -13 (55.89%) (2843)</p></td></tr><tr><td><p><span style="font-weight: bold">116</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your uncover-locals pass from C1 to C2.</span> <br/> <br/> The big change
is that rather than only knowing the names of variables, you&rsquo;ll need
to record their types. One way to do this is to include the type in
the syntax of <span class="RktInBG"><span class="hspace"></span><span class="RktIn">set!</span><span class="hspace"></span></span> or variable references in C.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>15m (0.54%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+112 / -97 (56.18%) (2858)</p></td></tr><tr><td><p><span style="font-weight: bold">117</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from X1 to X2.</span> <br/> <br/> Recall the definition of
X2: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_12.png" alt="image" width="265.3759765625" height="34.560546875"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+4 / -1 (56.24%) (2861)</p></td></tr><tr><td><p><span style="font-weight: bold">118</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your emitter from X1 to X2 programs.</span> <br/> <br/> You&rsquo;ll want to
emit a global data region for type information when types appear in
arguments. If you are lazy, you can allocate many for each occurrence
of a type. If you are not lazy, then you should ensure that each
identical type appears only once.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (20h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+4 / -1 (56.30%) (2864)</p></td></tr><tr><td><p><span style="font-weight: bold">119</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the select-instr pass to target X2.</span> <br/> <br/> The book walks
through doing this very well.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>23m (0.82%) (21h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+75 / -45 (56.89%) (2894)</p></td></tr><tr><td><p><span style="font-weight: bold">120</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen X2 test programs.</span> <br/> <br/> Obviously, use the new
features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>17m (0.61%) (21h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+17 / -15 (56.93%) (2896)</p></td></tr><tr><td><p><span style="font-weight: bold">121</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from X1 to X2 programs.</span> <br/> <br/> Again, use
fakery for allocation for now.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>36m (1.29%) (22h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+51 / -35 (57.24%) (2912)</p></td></tr><tr><td><p><span style="font-weight: bold">122</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend remaining passes for X2.</span> <br/> <br/> The big change here is being
sensitive to the type of the variables when you are generating
interferences so that live vectors are spilled (to the "root stack".)
You&rsquo;ll also have to generate a data region in your assembly to
reference the types used in your program.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>61m (2.18%) (23h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+127 / -88 (58.01%) (2951)</p></td></tr><tr><td><p><span style="font-weight: bold">123</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your runtime to support the allocation interface.</span> <br/> <br/> Initially, make this totally fake: <span class="RktInBG"><span class="hspace"></span><span class="RktIn">collect</span><span class="hspace"></span></span> just
bumps the free pointer after calling your system&rsquo;s <span class="RktInBG"><span class="hspace"></span><span class="RktIn">malloc</span><span class="hspace"></span></span>
then leak that memory. At this point, all of your test programs should
run, but your program that allocates lots of memory will use NxM bytes
even though it should only ever use N bytes.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>88m (3.14%) (24h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+387 / -232 (61.06%) (3106)</p></td></tr><tr><td><p><span style="font-weight: bold">124</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your runtime to support printing out vectors.</span> <br/> <br/> You&rsquo;ll
pay attention to the type information you embed in the objects to do
this.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>63m (2.25%) (25h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+43 / -13 (61.65%) (3136)</p></td></tr><tr><td><p><span style="font-weight: bold">125</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your runtime to actually do garbage collection.</span> <br/> <br/> This is a big deal, but it is hard to break down into
steps. The book is very thorough walking through all the different
things that you need to do. If you are having a lot of trouble, one
strategy is to implement real collection in your interpreters too.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>S+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>28m (1.00%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+260 / -38 (66.01%) (3358)</p></td></tr><tr><td><p><span style="font-weight: bold">126</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from R3 to R4.</span> <br/> <br/> Recall the definition
of R4: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_13.png" alt="image" width="238.2783203125" height="63.12109375"/> <br/> This is a
big change from your past <span class="RktInBG"><span class="hspace"></span><span class="RktIn">program</span><span class="hspace"></span></span> forms, so I recommend
making a new <span class="RktInBG"><span class="hspace"></span><span class="RktIn">program</span><span class="hspace"></span></span> AST constructor that just accepts an
expression and synthesizes this form.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>15m (0.54%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+262 / -248 (66.29%) (3372)</p></td></tr><tr><td><p><span style="font-weight: bold">127</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty printer from R3 to R4.</span> <br/> <br/> Again, use
whichever syntax you think looks nice.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+24 / -5 (66.66%) (3391)</p></td></tr><tr><td><p><span style="font-weight: bold">128</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen test R4 programs.</span> <br/> <br/> Make sure you pass and return
all sorts of things from functions. Make sure you write a tail calling
functions (recursive and mutually recursive) that use a huge amount of
stack space if tail calls are not implemented correctly.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>11m (0.39%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+62 / -1 (67.86%) (3452)</p></td></tr><tr><td><p><span style="font-weight: bold">129</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from R3 to R4.</span> <br/> <br/> You&rsquo;ll want to have an
environment mapping function names to their implementations.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>8m (0.29%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+60 / -43 (68.19%) (3469)</p></td></tr><tr><td><p><span style="font-weight: bold">130</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write type-checker tests for R4.</span> <br/> <br/> These should be programs
that fail to type-check.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (26h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+26 / -1 (68.68%) (3494)</p></td></tr><tr><td><p><span style="font-weight: bold">131</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your type-checker from R3 to R4.</span> <br/> <br/> You will have to
first gather types of all the functions, assume they are correct, then
type-check them one-by-one.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>34m (1.21%) (27h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+77 / -32 (69.57%) (3539)</p></td></tr><tr><td><p><span style="font-weight: bold">132</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your random generation function from R3 to R4.</span> <br/> <br/> You&rsquo;ll
need to have a new helper that generates a random function that
accepts a particular value and returns one of some other type. Your
random generation function will return a set of functions that are
called and an expression.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>58m (2.07%) (28h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+157 / -76 (71.16%) (3620)</p></td></tr><tr><td><p><span style="font-weight: bold">133</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some R4-specific optimizer tests.</span> <br/> <br/> Again, to verify that
you are actually optimizing the programs.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (28h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+7 / -3 (71.24%) (3624)</p></td></tr><tr><td><p><span style="font-weight: bold">134</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your optimizer from R3 to R4.</span> <br/> <br/> You&rsquo;ll want to inline
calls to functions with simple arguments (variables, constants, etc.)
You&rsquo;ll have to make sure that you don&rsquo;t go into an infinite loop on
recursive functions, but ideally you should be able to inline them a
little bit in a form of loop-unrolling.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>66m (2.36%) (29h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+270 / -185 (72.91%) (3709)</p></td></tr><tr><td><p><span style="font-weight: bold">135</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the uniquify pass from R3 to R4 programs, with a few test cases to check its output.</span> <br/> <br/> Function names will be renamed too.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (29h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+31 / -10 (73.32%) (3730)</p></td></tr><tr><td><p><span style="font-weight: bold">136</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the reveal-fun pass on R4 programs.</span> <br/> <br/> This locates
function names and replaces them with a new form <span class="RktInBG"><span class="hspace"></span><span class="RktIn">(fun-ref var)</span><span class="hspace"></span></span>. It is possible to do this at the same time as uniquify if you
want. Make sure to write tests! You&rsquo;ll need to update your interpreter
to deal with these forms as well.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (29h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+15 / -7 (73.48%) (3738)</p></td></tr><tr><td><p><span style="font-weight: bold">137</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the limit-fun pass on R4 programs.</span> <br/> <br/> This modifies
functions so that if they have more than six arguments, they are
expected to be received via a vector. You also have to update the
calls. Make sure to write tests!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>31m (1.11%) (30h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+138 / -7 (76.06%) (3869)</p></td></tr><tr><td><p><span style="font-weight: bold">138</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the resolve-complex pass to R4 programs.</span> <br/> <br/> Function
references are simple, while applications are complex, although you&rsquo;ll
want to allow them as expressions in tail position. I recommend also
ensuring that the main expression immediately calls a newly designated
function with no arguments.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS-</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>52m (1.86%) (31h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+138 / -16 (78.45%) (3991)</p></td></tr><tr><td><p><span style="font-weight: bold">139</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from C2 to C3.</span> <br/> <br/> Recall the definition
of C3: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_14.png" alt="image" width="335.4580078125" height="63.12109375"/> <br/> The final
label in <span class="RktInBG"><span class="hspace"></span><span class="RktIn">program</span><span class="hspace"></span></span> forms is the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">main</span><span class="hspace"></span></span> function. You
can also remove <span class="RktInBG"><span class="hspace"></span><span class="RktIn">read</span><span class="hspace"></span></span> from C3 and replace it with a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">call</span><span class="hspace"></span></span>. Similarly, you could add a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">print</span><span class="hspace"></span></span> form to the
language and remove that complexity from the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">main</span><span class="hspace"></span></span> pass.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>7m (0.25%) (31h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+12 / -10 (78.49%) (3993)</p></td></tr><tr><td><p><span style="font-weight: bold">140</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty-printer from C2 to C3 programs.</span> <br/> <br/> There&rsquo;s no
standard syntax here, so follow your bliss.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>15m (0.54%) (31h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+251 / -213 (79.24%) (4031)</p></td></tr><tr><td><p><span style="font-weight: bold">141</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen tests for C3.</span> <br/> <br/> Using the new features!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>37m (1.32%) (32h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+4 / -2 (79.28%) (4033)</p></td></tr><tr><td><p><span style="font-weight: bold">142</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from C2 to C3 programs.</span> <br/> <br/> There&rsquo;s
nothing too exciting here either.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>20m (0.71%) (32h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+89 / -78 (79.50%) (4044)</p></td></tr><tr><td><p><span style="font-weight: bold">143</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your explicate-control pass to target C3.</span> <br/> <br/> Because you
need to treat tail calls specially, you&rsquo;ll want to track whether the
expression you are converting is in tail position. One way to do this
is with a boolean flag and another way is to have a separate function
for converting in tail position. Just don&rsquo;t duplicate code if you have
the separate function&#8212;<wbr></wbr>call the normal function in the
non-<span class="RktInBG"><span class="hspace"></span><span class="RktIn">app</span><span class="hspace"></span></span> cases.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>29m (1.04%) (32h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+72 / -41 (80.11%) (4075)</p></td></tr><tr><td><p><span style="font-weight: bold">144</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your uncover-locals pass from C2 to C3.</span> <br/> <br/> This is pretty
boring.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>14m (0.50%) (33h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+132 / -109 (80.56%) (4098)</p></td></tr><tr><td><p><span style="font-weight: bold">145</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from X2 to X3.</span> <br/> <br/> Recall the definition of
X3: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_15.png" alt="image" width="276.7373046875" height="63.12109375"/></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>8m (0.29%) (33h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+13 / -6 (80.70%) (4105)</p></td></tr><tr><td><p><span style="font-weight: bold">146</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your emitter from X2 to X3 programs.</span> <br/> <br/> Nothing too
exciting here.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>16m (0.57%) (33h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+331 / -316 (80.99%) (4120)</p></td></tr><tr><td><p><span style="font-weight: bold">147</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a half-dozen X3 test programs.</span> <br/> <br/> Obviously, use the new
features.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (33h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+320 / -309 (81.21%) (4131)</p></td></tr><tr><td><p><span style="font-weight: bold">148</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from X2 to X3 programs.</span> <br/> <br/> Ho-hum.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>50m (1.79%) (34h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+284 / -276 (81.36%) (4139)</p></td></tr><tr><td><p><span style="font-weight: bold">149</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the select-instr pass to target X3.</span> <br/> <br/> The book walks
through doing this well.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>72m (2.57%) (35h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+164 / -70 (83.21%) (4233)</p></td></tr><tr><td><p><span style="font-weight: bold">150</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend allocate-registers (and its helper passes) for X3.</span> <br/> <br/> Make sure that you add the correct inteferences when considering
the new forms in X3. I find that this is a good stage to move some of
the code that used to be in the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">main</span><span class="hspace"></span></span> pass into the
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">assign</span><span class="hspace"></span></span> pass, because you&rsquo;ll be dealing with spilling and
stack management in multiple functions now. When I did this pass, I
found a huge mistake from the very first time I start register
allocation where I wasn&rsquo;t adding registers to the live sets, which
caused the assignment of arguments to registers to get messed up.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>237m (8.46%) (39h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+671 / -546 (85.67%) (4358)</p></td></tr><tr><td><p><span style="font-weight: bold">151</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend patch-instructions for X3.</span> <br/> <br/> You&rsquo;ll have to deal with
the idiosyncracies of the new instructions and
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">tail-jmp</span><span class="hspace"></span></span>. Review the book.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>33m (1.18%) (40h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+79 / -87 (85.51%) (4350)</p></td></tr><tr><td><p><span style="font-weight: bold">152</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Update your runtime to deal with printing references to functions and function types.</span> <br/> <br/> Just print out something like
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">#&lt;function&gt;</span><span class="hspace"></span></span>. This will also be the point at which you
integrate everything and see if you really generated the assembly
correctly.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>102m (3.64%) (41h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+187 / -98 (87.26%) (4439)</p></td></tr><tr><td><p><span style="font-weight: bold">153</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your data types from R4 to R5.</span> <br/> <br/> Recall the definition
of R5: <br/> <img style="vertical-align: -3.5px; margin: -3px -3px -3px -3px;" src="pict_16.png" alt="image" width="244.1640625" height="20.2802734375"/> <br/> The
variable before a <span class="RktInBG"><span class="hspace"></span><span class="RktIn">lambda</span><span class="hspace"></span></span>&rsquo;s argument list is for recursive
references to this anonymous function (because we don&rsquo;t have a
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">letrec</span><span class="hspace"></span></span> form.)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (41h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+1 / -1 (87.26%) (4439)</p></td></tr><tr><td><p><span style="font-weight: bold">154</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your pretty printer from R4 to R5.</span> <br/> <br/> Again, use
whichever syntax you think looks nice.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>2m (0.07%) (41h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+13 / -3 (87.46%) (4449)</p></td></tr><tr><td><p><span style="font-weight: bold">155</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a dozen test R5 programs.</span> <br/> <br/> Make sure you explore all the
exotic forms of variable capture and recursion you can.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>10m (0.36%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+74 / -19 (88.54%) (4504)</p></td></tr><tr><td><p><span style="font-weight: bold">156</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your interpreter from R4 to R5.</span> <br/> <br/> It doesn&rsquo;t matter what
closure representation you use.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>3m (0.11%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+15 / -3 (88.78%) (4516)</p></td></tr><tr><td><p><span style="font-weight: bold">157</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write type-checker tests for R5.</span> <br/> <br/> These should be programs
that fail to type-check.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+5 / -1 (88.85%) (4520)</p></td></tr><tr><td><p><span style="font-weight: bold">158</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your type-checker from R4 to R5.</span> <br/> <br/> You&rsquo;ll be assuming
that the function is correctly typed for recursive invocations.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>6m (0.21%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+23 / -4 (89.23%) (4539)</p></td></tr><tr><td><p><span style="font-weight: bold">159</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your random generation function from R4 to R5.</span> <br/> <br/> It
should be straight-forward to reuse your function creating code.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+26 / -15 (89.44%) (4550)</p></td></tr><tr><td><p><span style="font-weight: bold">160</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write some R5-specific optimizer tests.</span> <br/> <br/> To check that the
optimizer really works!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>1m (0.04%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+9 / -5 (89.52%) (4554)</p></td></tr><tr><td><p><span style="font-weight: bold">161</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend your optimizer from R4 to R5.</span> <br/> <br/> You&rsquo;ll want to inline
calls to known <span class="RktInBG"><span class="hspace"></span><span class="RktIn">lambda</span><span class="hspace"></span></span>s. Do this syntactically, rather than
doing any sort of data-flow analysis.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>28m (1.00%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+33 / -7 (90.03%) (4580)</p></td></tr><tr><td><p><span style="font-weight: bold">162</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Extend the boring passes from R4 to R5 programs.</span> <br/> <br/> Like
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">uniquify</span><span class="hspace"></span></span> and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">reveal-fun</span><span class="hspace"></span></span>.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>5m (0.18%) (42h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+18 / -7 (90.25%) (4591)</p></td></tr><tr><td><p><span style="font-weight: bold">163</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement the convert-to-closure pass on R5 programs.</span> <br/> <br/> You&rsquo;ll have to add a dumb "trust-me" type. You&rsquo;ll be
turning <span class="RktInBG"><span class="hspace"></span><span class="RktIn">lambda</span><span class="hspace"></span></span>s into <span class="RktInBG"><span class="hspace"></span><span class="RktIn">vector</span><span class="hspace"></span></span>s and lifting the body
of the <span class="RktInBG"><span class="hspace"></span><span class="RktIn">lambda</span><span class="hspace"></span></span> to a new top-level function. Application will
change and references to (other) top-level functions will get turned
into closures will no free variables. All the other top-level
functions will also need to be updated to receive the useless closure
value.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>97m (3.46%) (44h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+277 / -87 (93.98%) (4781)</p></td></tr><tr><td><p><span style="font-weight: bold">164</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Add a simple macro system based on syntax-rules to your compiler.</span> <br/> <br/> Follow the algorithm in the paper!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>61m (2.18%) (45h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+116 / -24 (95.79%) (4873)</p></td></tr><tr><td><p><span style="font-weight: bold">165</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Use your macro system to replace some of the syntactic sugar in your compiler, like the and &amp; or transformations.</span> <br/> <br/> From when you
added control.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>17m (0.61%) (45h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+63 / -5 (96.93%) (4931)</p></td></tr><tr><td><p><span style="font-weight: bold">166</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Write a parser for your programs.</span> <br/> <br/> Use a parser generator if
it is convenient in your language. Now, you can finally read programs
from files and run them!</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>66m (2.36%) (47h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+157 / -39 (100.00%) (5087)</p></td></tr><tr><td><p><span style="font-weight: bold">167</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Expand R5 to have more features.</span> <br/> <br/> You could add more
primitives (like more arithmetic), add more primitive data types (like
sized integers and floats), variants, variable-sized homogenous
arrays, and so on.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>43m (1.54%) (46h)</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>+68 / -30 (97.68%) (4969)</p></td></tr><tr><td><p><span style="font-weight: bold">168</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Implement k-CFA for R5 and incorporate it into your optimizer.</span> <br/> <br/> Make sure you write some programs that observe the
inlining working. You should probably also run with k = 0.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td></tr><tr><td><p><span style="font-weight: bold">169</span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span style="font-weight: bold">Connect your compiler to LLVM.</span> <br/> <br/> You should swap out the X
language for LLVM IR. I recommend emitting the textual representation
of the IR, rather than directly connecting to the LLVM API. You could
also experiment with outputing C code.</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>SS+</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p></p></td></tr></table></div></p><h4>3.4<tt>&nbsp;</tt><a name="(part._pres-policy)"></a>Presentation Policy</h4><p><div class="SIntrapara">Consult the <a href="#%28part._check1%29" data-pltdoc="x">checkpoint</a> <a href="#%28part._check2%29" data-pltdoc="x">details</a>
for details about the content of the presentation.</div><div class="SIntrapara">I will not pre-grade your presentation through
email, but I can try to discuss it with you, although it is most
effective to discuss it with you in my office.</div><div class="SIntrapara">You must record yourself for fifteen minutes and
email me a link to the video. I highly recommend that you upload it as
an unlisted YouTube video and send me that link. It is the most
convenient for everyone. You must send this link to me before 5pm on
the listed due date. No presentations will be accepted at any other
time, for any reason. In extenuating circumstances, we can arrange an
in-person presentation.</div><div class="SIntrapara">Your email must have the subject:
<span class="RktInBG"><span class="hspace"></span><span class="RktIn">Turn-in for CS406</span><span class="hspace"></span></span>. If it does
not have this subject, it will not be graded and I will treat it as
though you did not turn it in.</div><div class="SIntrapara">I highly recommend that you use your operating
system&rsquo;s screen-recording capability and use a simple presentation
mechanism, like a digital whiteboard. If you don&rsquo;t how to get your OS
to record the screen, a cross-platform option is Google Hangouts on
Air. (If you use Hangouts, make sure you sign up right away, because
there is a waiting period before streaming.) You can use it to record
yourself, and your screen, and it can automatically archive to
YouTube. If you are presenting code, it makes sense to present from
within your editor and show the code working. In any case, remember:
the most important part of your presentation is the words you say.</div><div class="SIntrapara">Your presentation should be designed like you are
teaching a class or having a conversation about something you deeply
understand with a friend. You should not use a script or have any
substantial notes. If you need notes, then write down ten (10) words
that will help prompt you and keep you on track.</div></p><h3>4<tt>&nbsp;</tt><a name="(part._.Help)"></a>Help</h3><p><div class="SIntrapara">My job is to help you.</div><div class="SIntrapara">One of the best ways for me to help you is to teach
you how to help yourself. The main way I will put this idea into
practice is that I will not answer your question until you have shown
that you&rsquo;ve read the relevant part of the textbook and have a concrete
question or point of confusion about it.</div><div class="SIntrapara">If you need a "shallow" amount of help, then look
at the <a href="http://groups.google.com/group/uml-cs-406-Spring-2019">Google Group</a>. First, see if I have already
answered your question. Then, send your own email.</div><div class="SIntrapara">Only send me personal email if you need to talk
about something private, such as your grades. Anything else is best
discussed in public, so others can benefit. If you do send personal
email, put <span class="RktInBG"><span class="hspace"></span><span class="RktIn">[CS406]</span><span class="hspace"></span></span> as a prefix in the
subject.</div><div class="SIntrapara">If you need a "deep" amount of help, please come to
my office or contact me on Google Hangouts and we&rsquo;ll talk and try to resolve
whatever ails you.</div></p><h3>5<tt>&nbsp;</tt><a name="(part._.Fine_.Print)"></a>Fine Print</h3><p><div class="SIntrapara"><span class="Smaller">In this course, all work is to be each
student&rsquo;s own.  Students should therefore be familiar with the
University&rsquo;s rules on academic dishonesty, which can be found in the
Bulletin of Undergraduate Studies and in the Schedule of Classes. In
particular, plagiarism will not be tolerated! Any student caught
plagiarizing another&#8217;s work will automatically receive a grade of F
for the course.  If you are unsure as to what constitutes plagiarism,
it is your responsibility to check with the instructor. Other forms of
dishonesty will result in similar actions.  You may collaborate with
your classmates on the design and results of the programs you will
write in this course, but each student must implement these programs
alone.  Submission of shared student code is not permissible, and will
result in a grade of F for the course.  Help files are typically
provided for each programming assignment, and students are encouraged
to cut and paste useful code from these help files into their
assignment submissions, but all other code must be the specific work
of each student.</span></div><div class="SIntrapara"><span class="Smaller">You are not allowed to post solution code
to problem sets assigned in this class in public places
(e.g. Github). This includes your own solutions as well as solutions
that may be provided by the instructors.</span></div><div class="SIntrapara"><span class="Smaller">This policy is a courtesy to future
students, who &#8212; to the fullest extent possible &#8212; should have the
opportunity to struggle with the problems in the same way that you
do.</span></div><div class="SIntrapara"><span class="Smaller">Non-compliance will be pursued rigorously per UMass
Lowell&rsquo;s academic integrity policy.</span></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
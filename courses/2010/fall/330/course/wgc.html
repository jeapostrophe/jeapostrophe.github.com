<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>3.16&nbsp;Garbage Collection</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><link rel="stylesheet" type="text/css" href="course.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Programming Language Design (Fall 2010)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#(part._.Introduction)" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#(part._.Lectures)" class="tocviewlink" pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#(part._assignments)" class="tocviewselflink" pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#(part._.Help)" class="tocviewlink" pltdoc="x">Help</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#(part._turnin)" class="tocviewlink" pltdoc="x">Turn In Policy</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#(part._.Readings)" class="tocviewlink" pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#(part._software)" class="tocviewlink" pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#(part._.Exams)" class="tocviewlink" pltdoc="x">Exams</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="index.html#(part._.Grading)" class="tocviewlink" pltdoc="x">Grading</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="index.html#(part._.Your_.Final_.Grade)" class="tocviewlink" pltdoc="x">Your Final Grade</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="index.html#(part._.Team_.Work)" class="tocviewlink" pltdoc="x">Team Work</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="index.html#(part._.Codewalks)" class="tocviewlink" pltdoc="x">Codewalks</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="index.html#(part._.Advice)" class="tocviewlink" pltdoc="x">Advice</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#(part._assignments)" class="tocviewlink" pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="music.html" class="tocviewlink" pltdoc="x">Musical Notation</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="survey.html" class="tocviewlink" pltdoc="x">Survey</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="basic.html" class="tocviewlink" pltdoc="x">Basic Racket</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="lists.html" class="tocviewlink" pltdoc="x">Lists and Trees</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="hof.html" class="tocviewlink" pltdoc="x">Higher-<wbr></wbr>order Functions</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="rinterp.html" class="tocviewlink" pltdoc="x">Rudimentary Interpreter</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="wsubst.html" class="tocviewlink" pltdoc="x">Substitution</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="xinterp.html" class="tocviewlink" pltdoc="x">Extended Interpreter</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="lazy.html" class="tocviewlink" pltdoc="x">Laziness and Infinite Data</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="wlazy.html" class="tocviewlink" pltdoc="x">Laziness</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="rawweb.html" class="tocviewlink" pltdoc="x">Raw Web Programming</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="wlang.html" class="tocviewlink" pltdoc="x">Language Design</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="wcont.html" class="tocviewlink" pltdoc="x">Continuations</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="pltweb.html" class="tocviewlink" pltdoc="x">Racket Web Programming</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="gc.html" class="tocviewlink" pltdoc="x">Garbage Collectors</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Garbage Collection</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="wtypec.html" class="tocviewlink" pltdoc="x">Type Checking</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="typec.html" class="tocviewlink" pltdoc="x">Type Checker</a></td></tr><tr><td align="right">3.19&nbsp;</td><td><a href="typei.html" class="tocviewlink" pltdoc="x">Type Inferrer</a></td></tr><tr><td align="right">3.20&nbsp;</td><td><a href="wtypei.html" class="tocviewlink" pltdoc="x">Type Inference</a></td></tr><tr><td align="right">3.21&nbsp;</td><td><a href="typei2.html" class="tocviewlink" pltdoc="x">Type Inferrer (Part Deux)</a></td></tr><tr><td align="right">3.22&nbsp;</td><td><a href="final.html" class="tocviewlink" pltdoc="x">Final</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.16&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Garbage Collection</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.16.1&nbsp;</td><td><a href="#(part._.Mark___.Sweep_and_.Large_.Objects)" class="tocviewlink" pltdoc="x">Mark &amp; Sweep and Large Objects</a></td></tr><tr><td align="right">3.16.2&nbsp;</td><td><a href="#(part._.Type_.Tag_.Placement)" class="tocviewlink" pltdoc="x">Type Tag Placement</a></td></tr><tr><td align="right">3.16.3&nbsp;</td><td><a href="#(part._.Intergenerational_.Pointers)" class="tocviewlink" pltdoc="x">Intergenerational Pointers</a></td></tr><tr><td align="right">3.16.4&nbsp;</td><td><a href="#(part._wgc-app)" class="tocviewlink" pltdoc="x">Application</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">3.16.1<tt>&nbsp;</tt></span><a href="#(part._.Mark___.Sweep_and_.Large_.Objects)" class="tocsubseclink" pltdoc="x">Mark &amp; Sweep and Large Objects</a></td></tr><tr><td><span class="tocsublinknumber">3.16.2<tt>&nbsp;</tt></span><a href="#(part._.Type_.Tag_.Placement)" class="tocsubseclink" pltdoc="x">Type Tag Placement</a></td></tr><tr><td><span class="tocsublinknumber">3.16.3<tt>&nbsp;</tt></span><a href="#(part._.Intergenerational_.Pointers)" class="tocsubseclink" pltdoc="x">Intergenerational Pointers</a></td></tr><tr><td><span class="tocsublinknumber">3.16.4<tt>&nbsp;</tt></span><a href="#(part._wgc-app)" class="tocsubseclink" pltdoc="x">Application</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="gc.html" title="backward to &quot;3.15 Garbage Collectors&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#(part._assignments)" title="up to &quot;3 Assignments&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="wtypec.html" title="forward to &quot;3.17 Type Checking&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.16<tt>&nbsp;</tt><a name="(part._wgc)"></a>Garbage Collection</h4><p><span style="font-style: italic">Complete this assignment with Team Two.</span></p><p><span style="font-style: italic">You <span style="font-weight: bold">must</span> submit this in an archive named <span class="stt">"wgc.zip"</span>.

This archive <span style="font-weight: bold">must</span> contain a folder named <span class="stt">"wgc"</span>.

This folder <span style="font-weight: bold">must</span> contain all the files specified below.

You <span style="font-weight: bold">must</span> attach <span class="stt">"wgc.zip"</span> to an email whose subject is "BYU - Fall 2010 - CS 330 - wgc" and whose message body contains the name of everyone on your team (each on a separate line.)

You <span style="font-weight: bold">must</span> send this email to <a href="mailto:jay@cs.byu.edu">jay@cs.byu.edu</a> before 5pm (Provo time) on 11/16.

<span style="font-weight: bold">Ensure</span> that what you are satisfied with what you submit, because only your chronologically first submission will be graded.

<span style="font-weight: bold">Ensure</span> that you follow these instructions <span style="font-weight: bold">exactly</span>, since submissions that do not meet these requirements (i.e. do not have the correct format) will receive <span style="font-weight: bold">no credit</span>, despite the time and energy you put into the assignment.

Please see <a href="index.html#(part._turnin)" pltdoc="x">Turn In Policy</a> for more information.
</span></p><p><span style="font-style: italic">You <span style="font-weight: bold">must</span> submit this in a file named <span class="stt">"wgc.pdf"</span>.</span></p><h5>3.16.1<tt>&nbsp;</tt><a name="(part._.Mark___.Sweep_and_.Large_.Objects)"></a>Mark &amp; Sweep and Large Objects</h5><p>We have discussed why, at least on paper, mark-and-sweep is an inferior garbage collection strategy for languages
(such as ones that do not expose pointer operations) that permit implementations to move data in memory. Yet even
for such languages, most memory managers use a mark-and-sweep strategy for their large-object space. Give one reason
why mark-and-sweep might be preferable on such objects.</p><p>State two standard objections to mark-and-sweep, and explain why they don&#8217;t apply in this context. For each reason,
first state the objection, then explain why it doesn&#8217;t apply.</p><h5>3.16.2<tt>&nbsp;</tt><a name="(part._.Type_.Tag_.Placement)"></a>Type Tag Placement</h5><p>Suppose we have multiple kinds of data of different sizes. In typical heap representations, the type tag is always at
the first address (i.e., at offset 0) that represents a value. Should it matter where the tag resides? For instance, why
not put the tag at the last address rather than the first? (The more concrete you are, the more brief you can be.)</p><h5>3.16.3<tt>&nbsp;</tt><a name="(part._.Intergenerational_.Pointers)"></a>Intergenerational Pointers</h5><p>A generational garbage collector naturally handles references from newer objects (those allocated more recently) to older
ones. A major challenge is keeping track of references that go the other way: from old objects to new. What in the design
of a copying generational collector makes it straightforward for the collector to handle references from new to old, rather
than vice versa?</p><p>Distinguish between variable mutation and value mutation. In variable mutation, we change the value held by a variable itself.
In value mutation, the variable still refers to the same object; it&rsquo;s the content of the object that changes.
(For example, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/set_.html#(form._((quote._~23~25kernel)._set!))" class="RktStxLink" pltdoc="x">set!</a></span> in Racket implements variable mutation, while <span class="RktSym"><a href="http://docs.racket-lang.org/reference/vectors.html#(def._((quote._~23~25kernel)._vector-set!))" class="RktValLink" pltdoc="x">vector-set!</a></span> implements value mutation.)
Which of these does a generational collector need to track specially? For each one, state whether it is or isn&rsquo;t tracked,
with a brief justification for why or why not.</p><h5>3.16.4<tt>&nbsp;</tt><a name="(part._wgc-app)"></a>Application</h5><p>In 850 words or less, describe if and how your knowledge of garbage collection algorithms will help you in your future programming practice.
Good answers might discuss how this concept can be applied in interesting programming environments or how knowledge of its subtleties
clarifies or improves existing practices, techniques, tools, etc.</p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="gc.html" title="backward to &quot;3.15 Garbage Collectors&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#(part._assignments)" title="up to &quot;3 Assignments&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="wtypec.html" title="forward to &quot;3.17 Type Checking&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
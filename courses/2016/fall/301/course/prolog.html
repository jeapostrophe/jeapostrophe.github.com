<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>3.18&nbsp;Prolog</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Organization of Programming Languages (Fall 2016)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Lectures%29" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._turnin%29" class="tocviewlink" data-pltdoc="x">Turn-<wbr></wbr>In and Grading</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Readings%29" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._software%29" class="tocviewlink" data-pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#%28part._.Fine_.Print%29" class="tocviewlink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="basic.html" class="tocviewlink" data-pltdoc="x">Basic Racket</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="lists.html" class="tocviewlink" data-pltdoc="x">Lists and Trees</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="hof.html" class="tocviewlink" data-pltdoc="x">Higher-<wbr></wbr>order Functions</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="rinterp-java.html" class="tocviewlink" data-pltdoc="x">Rudimentary Interpreter</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="xinterp.html" class="tocviewlink" data-pltdoc="x">Extended Interpreter</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="wlang1.html" class="tocviewlink" data-pltdoc="x">Language Analysis the First</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="gsurvey.html" class="tocviewlink" data-pltdoc="x">Game Survey</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="wgc.html" class="tocviewlink" data-pltdoc="x">Analysis:<span class="mywbr"> &nbsp;</span> Garbage Collection</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="gc.html" class="tocviewlink" data-pltdoc="x">Garbage Collectors</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="webgsurvey.html" class="tocviewlink" data-pltdoc="x">Web Game Survey</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="wcont.html" class="tocviewlink" data-pltdoc="x">Analysis:<span class="mywbr"> &nbsp;</span> Continuations</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="typec.html" class="tocviewlink" data-pltdoc="x">Type Checker</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="typei.html" class="tocviewlink" data-pltdoc="x">Type Inferrer</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="wtype.html" class="tocviewlink" data-pltdoc="x">Analysis:<span class="mywbr"> &nbsp;</span> Type Systems</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="lazy.html" class="tocviewlink" data-pltdoc="x">Laziness and Infinite Data</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="wlang2.html" class="tocviewlink" data-pltdoc="x">Language Analysis the Second</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="wlazy.html" class="tocviewlink" data-pltdoc="x">Analysis:<span class="mywbr"> &nbsp;</span> Laziness</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Prolog</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.18&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Prolog</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.18.1&nbsp;</td><td><a href="#%28part._.Interactive_.Testing%29" class="tocviewlink" data-pltdoc="x">Interactive Testing</a></td></tr><tr><td align="right">3.18.2&nbsp;</td><td><a href="#%28part._.Testing_.Harness%29" class="tocviewlink" data-pltdoc="x">Testing Harness</a></td></tr><tr><td align="right">3.18.3&nbsp;</td><td><a href="#%28part._.Additional_.Notes%29" class="tocviewlink" data-pltdoc="x">Additional Notes</a></td></tr><tr><td align="right">3.18.4&nbsp;</td><td><a href="#%28part._.Example_1__.Simple_.Search%29" class="tocviewlink" data-pltdoc="x">Example 1:<span class="mywbr"> &nbsp;</span> Simple Search</a></td></tr><tr><td align="right">3.18.5&nbsp;</td><td><a href="#%28part._.Example_2__.Family_.Trees%29" class="tocviewlink" data-pltdoc="x">Example 2:<span class="mywbr"> &nbsp;</span> Family Trees</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=fail</span></span></a></td></tr><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=succeed</span></span></a></td></tr><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand2%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=and2</span></span></a></td></tr><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=or2</span></span></a></td></tr><tr><td><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=and</span></span></a></td></tr><tr><td><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=or</span></span></a></td></tr><tr><td><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-some%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=find-<wbr></wbr>some</span></span></a></td></tr><tr><td><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-all%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=find-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt.__%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">_</span></span></a></td></tr><tr><td><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">=var</span></span></a></td></tr><tr><td><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">==</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.18.1<tt>&nbsp;</tt></span><a href="#%28part._.Interactive_.Testing%29" class="tocsubseclink" data-pltdoc="x">Interactive Testing</a></td></tr><tr><td><span class="tocsublinknumber">3.18.2<tt>&nbsp;</tt></span><a href="#%28part._.Testing_.Harness%29" class="tocsubseclink" data-pltdoc="x">Testing Harness</a></td></tr><tr><td><span class="tocsublinknumber">3.18.3<tt>&nbsp;</tt></span><a href="#%28part._.Additional_.Notes%29" class="tocsubseclink" data-pltdoc="x">Additional Notes</a></td></tr><tr><td><span class="tocsublinknumber">3.18.4<tt>&nbsp;</tt></span><a href="#%28part._.Example_1__.Simple_.Search%29" class="tocsubseclink" data-pltdoc="x">Example 1:<span class="mywbr"> &nbsp;</span> Simple Search</a></td></tr><tr><td><span class="tocsublinknumber">3.18.5<tt>&nbsp;</tt></span><a href="#%28part._.Example_2__.Family_.Trees%29" class="tocsubseclink" data-pltdoc="x">Example 2:<span class="mywbr"> &nbsp;</span> Family Trees</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="wlazy.html" title="backward to &quot;3.17 Analysis: Laziness&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="index.html#%28part._turnin%29" title="forward to &quot;4 Turn-In and Grading&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.18<tt>&nbsp;</tt><a name="(part._prolog)"></a>Prolog</h4><blockquote class="SubFlow"><p><div class="SIntrapara">You must complete this assignment using a specific language.
Choose <span class="ssansserif">Determine language from source</span> in the DrRacket menu, then
write
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><a href="http://docs.racket-lang.org/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="http://docs.racket-lang.org/plai/plai-scheme.html" class="RktModLink" data-pltdoc="x"><span class="RktSym">plai</span></a></p></blockquote></div><div class="SIntrapara">as the <span style="font-style: italic">first line</span> of your program, overwritting the default <a href="http://docs.racket-lang.org/guide/Module_Syntax.html#%28part._hash-lang%29" class="RktModLink" data-pltdoc="x"><span class="RktMod">#lang</span></a> at the top of the file.</div></p></blockquote><p>In this assignment, you will implement Prolog-style logic variables
and backtracking search using Racket&rsquo;s macros and continuations.</p><p>In this assignment, a <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._prolog-expression~3f))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">prolog-expression?</a></span> is a
function that accepts a <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._failure-continuation~3f%29%29" class="RktValLink" data-pltdoc="x">failure-continuation?</a></span> (which it calls
when it fails) and returns a <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._success-continuation~3f%29%29" class="RktValLink" data-pltdoc="x">success-continuation?</a></span> (each time
it succeeds).</p><p>A <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._failure-continuation~3f))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._failure-continuation~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">failure-continuation?</a></span> is a function that accepts a
value (which it ignores) and <span style="font-style: italic">fails</span>; failure may mean aborting
the entire Prolog search (meaning it returns nothing), or it may mean
backtracking to an earlier point and trying something
different (meaning it returns a <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._success-continuation~3f%29%29" class="RktValLink" data-pltdoc="x">success-continuation?</a></span>).</p><p>A <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._success-continuation~3f))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._success-continuation~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">success-continuation?</a></span> is a function that accepts a
value (which it ignores) and <span style="font-style: italic">tries again</span>; trying again may not
be possible, so the search is aborted (meaning it returns nothing), or
it may mean backtracking to an earlier point and trying something
different (meaning it returns a <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._success-continuation~3f%29%29" class="RktValLink" data-pltdoc="x">success-continuation?</a></span>).</p><p>You must define a new data structure for
<a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._logic-variable~3f))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._logic-variable~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">logic-variable?</a></span>s. The assignment text imposes some
constraints on this data structure.  This data structure will contain
<a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._prolog-value~3f))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-value~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">prolog-value?</a></span>s. <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-value~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-value?</a></span>s are
booleans, numbers, strings, symbols, <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._logic-variable~3f%29%29" class="RktValLink" data-pltdoc="x">logic-variable?</a></span>s,
<span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._empty%29%29" class="RktValLink" data-pltdoc="x">empty</a></span>, or <span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span> cells that only contain
<span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-value~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-value?</a></span>s.</p><p>You must implement the following, and I suggest writing them in this
order:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dfail))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValDef RktValLink" data-pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Never succeeds.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dsucceed))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValDef RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds exactly once.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dand2))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand2%29%29" class="RktValDef RktValLink" data-pltdoc="x">=and2</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds when both <span class="RktVar">e1</span> and <span class="RktVar">e2</span> succeed. If <span class="RktVar">e1</span> succeeds many times, then <span class="RktVar">e2</span> must be evaluated for each
of those times, with all of its successes for a particular <span class="RktVar">e1</span> success succeeding before <span class="RktVar">e1</span> succeeds again. In many cases
this means <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand2%29%29" class="RktValLink" data-pltdoc="x">=and2</a></span><span class="stt"> </span><span class="RktVar">e1</span><span class="stt"> </span><span class="RktVar">e2</span><span class="RktPn">)</span> suceeds <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">m</span><span class="RktPn">)</span> times if <span class="RktVar">e1</span> succeeds <span class="RktSym">n</span> times and <span class="RktVar">e2</span> succeeds <span class="RktSym">m</span>
times. (This is not always the case because some of <span class="RktVar">e1</span>&rsquo;s successes may be incompatible with <span class="RktVar">e2</span>.)</div></p><p>For example, <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand2%29%29" class="RktValLink" data-pltdoc="x">=and2</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValLink" data-pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span> succeeds <span class="RktVal">2</span> times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dor2))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValDef RktValLink" data-pltdoc="x">=or2</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds when either <span class="RktVar">e1</span> or <span class="RktVar">e2</span> succeeds. If <span class="RktVar">e1</span> succeeds <span class="RktSym">n</span> times and <span class="RktVar">e2</span> succeeds <span class="RktSym">m</span> times
then <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValLink" data-pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktVar">e1</span><span class="stt"> </span><span class="RktVar">e2</span><span class="RktPn">)</span> succeeds <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">m</span><span class="RktPn">)</span> times, with all of the <span class="RktVar">e1</span> successes <span style="font-style: italic">before</span> the <span class="RktVar">e2</span> successes.</div></p><p>For example, <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValLink" data-pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValLink" data-pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span> succeeds <span class="RktVal">3</span> times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dand))"></a><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand2%29%29" class="RktValLink" data-pltdoc="x">=and2</a></span> but for many Prolog expressions and short-circuiting.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dor))"></a><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor2%29%29" class="RktValLink" data-pltdoc="x">=or2</a></span> but for many Prolog expressions and short-circuiting.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dfind-some))"></a><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-some%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=find-some</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">n</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" class="RktValLink" data-pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#%28def._%28%28lib._racket%2Fprivate%2Fstx..rkt%29._identifier~3f%29%29" class="RktValLink" data-pltdoc="x">identifier?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Binds each <span class="RktVar">v</span> with <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span> and evaluates to a list of
all the solutions to <span class="RktVar">e</span>. Each solution is a list of logic
variable bindings (one binding for each of the <span class="RktVar">v</span>).  Each
variable binding is a two-element list consisting of the quoted
variable name (a symbol) and its value. Note that if the value is a
list, it should be returned as a Racket list.</div></p><p>The solutions should be returned in the order of their discovery (by
a left-to-right depth-first search) and each solution should list the
variables in the order provided. The search is bound to at most
<span class="RktVar">n</span> solutions. This makes it possible to test queries with
infinite solutions.</p><p><div class="SIntrapara">For example,
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-some%29%29" class="RktStxLink" data-pltdoc="x">=find-some</a></span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">evalutes to
 </div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>In your first version of this, before you&rsquo;ve implemented
<span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span>, just ignore the new logic variables.</p><p>This macro should probably be paired with a function that does most
of the work.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dfind-all))"></a><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-all%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=find-all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#%28def._%28%28lib._racket%2Fprivate%2Fstx..rkt%29._identifier~3f%29%29" class="RktValLink" data-pltdoc="x">identifier?</a></span></td></tr></table><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-some%29%29" class="RktStxLink" data-pltdoc="x">=find-some</a></span>, except uses <span class="RktVal">+inf.0</span> (infinity) as the bound.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt.__))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt.__%29%29" class="RktValDef RktValLink" data-pltdoc="x">_</a></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._logic-variable~3f%29%29" class="RktValLink" data-pltdoc="x">logic-variable?</a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Returns a fresh anonymous variable.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntax</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3dvar))"></a><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#%28def._%28%28lib._racket%2Fprivate%2Fstx..rkt%29._identifier~3f%29%29" class="RktValLink" data-pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Binds all of the <span class="RktVar">v</span> identifiers to fresh logic variables (returned from <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt.__%29%29" class="RktValLink" data-pltdoc="x">_</a></span>) and evaluates <span class="RktVar">e</span> in the extended environment.</div></p><p>This can be implemented by expanding to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2016/fall/301/a/prolog/prolog..rkt._~3d~3d))"></a><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValDef RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-expression~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-expression?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-value~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._prolog-value~3f%29%29" class="RktValLink" data-pltdoc="x">prolog-value?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Attempts to unify <span class="RktVar">e1</span> and <span class="RktVar">e2</span>, succeeding at most once.</div></p><p>If <span class="RktVar">e1</span> and <span class="RktVar">e2</span> can be unified, the expression succeeds.
If they cannot be unified, the expression fails. Unification must always terminate: you must implement an occurs check.</p><p><div class="SIntrapara">Two Racket values can be unified if they are <span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span>. For example, <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span> succeeds, whereas <span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="stt"> </span><span class="RktVal">0</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span> fails.
Unification for logic variables is trickier. If a logic variable is unbound, it assumes the value necessary to make the expression
succeed. For example, the following expression succeeds:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">The logic variable <span class="RktSym">x</span> assumes the value <span class="RktVal">0</span>. However, if a logic variable is already bound, it must be treated as
the value its bound to. For example, the following expression fails:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><h5>3.18.1<tt>&nbsp;</tt><a name="(part._.Interactive_.Testing)"></a>Interactive Testing</h5><p><div class="SIntrapara">These are not required by the assignment, but to aid in interactive testing (as shown in the examples below),
you may find the following two definitions helpful:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#%28def._%28%28quote._~23~25kernel%29._box%29%29" class="RktValLink" data-pltdoc="x">box</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">resumer</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#%28def._%28%28quote._~23~25kernel%29._unbox%29%29" class="RktValLink" data-pltdoc="x">unbox</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">dummy</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">show</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._syntax-rules%29%29" class="RktStxLink" data-pltdoc="x">syntax-rules</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">show</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vars</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vars</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._let%2Fcc%29%29" class="RktStxLink" data-pltdoc="x">let/cc</a></span><span class="hspace">&nbsp;</span><span class="RktSym">esc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._let%2Fcc%29%29" class="RktStxLink" data-pltdoc="x">let/cc</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fk</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">esc</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">fk</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#%28def._%28%28quote._~23~25kernel%29._set-box%21%29%29" class="RktValLink" data-pltdoc="x">set-box!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._printf%29%29" class="RktValLink" data-pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~a: ~a~n"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vars</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lv-value</span><span class="hspace">&nbsp;</span><span class="RktSym">vars</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#%28def._%28%28quote._~23~25kernel%29._void%29%29" class="RktValLink" data-pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fail</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>where <span class="RktSym">lv-value</span> accesses the value stored in the given logic variable.</p><p>Please note that these definitions are very implementation specific.</p><h5>3.18.2<tt>&nbsp;</tt><a name="(part._.Testing_.Harness)"></a>Testing Harness</h5><p><div class="SIntrapara">Please use the following definitions to help you with your testing:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">symbol -&gt; boolean : returns true if and only if the given</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">symbol is an uninterned symbol</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gensym?</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValLink" data-pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._string-~3esymbol%29%29" class="RktValLink" data-pltdoc="x">string-&gt;symbol</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol-~3estring%29%29" class="RktValLink" data-pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">list X list -&gt; boolean : takes two bindings (for example,</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">returned from =find-all) and returns true if and only if</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the two variables they bind are equal to the same thing.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">binding-equal?</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._second%29%29" class="RktValLink" data-pltdoc="x">second</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28lib._racket%2Flist..rkt%29._second%29%29" class="RktValLink" data-pltdoc="x">second</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Prolog-Expr X symbol X bool-Exprs ... -&gt; Test result : Takes a</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">(=find-all ...) or (=find-some ...), an identifier, and a set of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">expressions that evaluate to booleans when the identifier is</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">bound to the result of the given Prolog-expr. The test passes</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">if and only if all of the boolean expressions are true.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define-syntax%29%29" class="RktStxLink" data-pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">test-prolog</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._syntax-rules%29%29" class="RktStxLink" data-pltdoc="x">syntax-rules</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test-prolog</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">test-prolog</span><span class="hspace">&nbsp;</span><span class="RktSym">find-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">result-id</span><span class="hspace">&nbsp;</span><span class="RktSym">bool</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/plai/plai-scheme.html#%28form._%28%28lib._plai%2Fmain..rkt%29._test%29%29" class="RktStxLink" data-pltdoc="x">test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">result-id</span><span class="hspace">&nbsp;</span><span class="RktSym">find-expr</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bool</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#%28form._%28%28lib._racket%2Fprivate%2Fstxcase-scheme..rkt%29._......%29%29" class="RktStxLink" data-pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#%28def._%28%28lib._racket%2Fbool..rkt%29._true%29%29" class="RktValLink" data-pltdoc="x">true</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h5>3.18.3<tt>&nbsp;</tt><a name="(part._.Additional_.Notes)"></a>Additional Notes</h5><p>Do not use global variables for this assignment. We expect your implementation to have the ability to do a query, capture the
continuation returned, do a different query, and then invoke the first continuation with no trouble.</p><p>Unbound variables should have a unique &ldquo;value&rdquo; in their output. That is, if <span class="RktSym">y</span> is unbound, it should have a unique symbol
as its value. If <span class="RktSym">x</span> and <span class="RktSym">y</span> are dependently unbound, they should have the same unique symbol as their values. For example,
in the evaluation of <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span>, <span class="RktSym">x</span> and <span class="RktSym">y</span> are dependently unbound.</p><p>Remember that order counts. Please carefully read the definitions for <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-all%29%29" class="RktStxLink" data-pltdoc="x">=find-all</a></span> and <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-some%29%29" class="RktStxLink" data-pltdoc="x">=find-some</a></span>.
Even if your results are correct, if they are in the wrong order or format, they will be marked as incorrect.</p><h5>3.18.4<tt>&nbsp;</tt><a name="(part._.Example_1__.Simple_.Search)"></a>Example 1: Simple Search</h5><p><div class="SIntrapara">You might want to start by just testing <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span> and <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span> with <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span> and <span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValLink" data-pltdoc="x">=fail</a></span> (no logic variables).
In this restricted setting, there are a couple of useful properties: namely, if <span class="RktSym">e1</span> succeeds in <span class="RktSym">n1</span> ways, <span class="RktSym">e2</span>
succeeds in <span class="RktSym">n2</span> ways, etc., then <span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="stt"> </span><span class="RktSym">e1</span><span class="stt"> </span><span class="RktSym">e2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> succeeds in <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">n1</span><span class="stt"> </span><span class="RktSym">n2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> ways, and
<span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="stt"> </span><span class="RktSym">e1</span><span class="stt"> </span><span class="RktSym">e2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> succeeds in <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktSym">n1</span><span class="stt"> </span><span class="RktSym">n2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> ways. For instance,
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValLink" data-pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValLink" data-pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">succeeds in six ways. The first <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span> succeeds in three ways, the second <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span> succeeds in two ways, and the <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span>
combines them in all possible ways. Likewise,
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValLink" data-pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">succeeds in two ways. The first and third <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span>s each succeed in one way, and the <span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span> explores both of them.
You can use <span class="RktSym">show</span> (with an empty variable list) and <span class="RktSym">next</span> to count how many times a query succeeds.
You can also use the following <span class="RktSym">test-prolog</span> expression:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">test-prolog</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfind-all%29%29" class="RktStxLink" data-pltdoc="x">=find-all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dfail%29%29" class="RktValLink" data-pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dsucceed%29%29" class="RktValLink" data-pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym">result</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValLink" data-pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._length%29%29" class="RktValLink" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h5>3.18.5<tt>&nbsp;</tt><a name="(part._.Example_2__.Family_.Trees)"></a>Example 2: Family Trees</h5><p><div class="SIntrapara">As a more complicated example, suppose we have the following definitions:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">dom</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sonny</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fredo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sophia</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">tony</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3d~3d%29%29" class="RktValLink" data-pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dor%29%29" class="RktStxLink" data-pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dvar%29%29" class="RktStxLink" data-pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Z</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28form._%28%2F.Users%2Fjay%2F.Dev%2Fscm%2Fgithub..jeapostrophe%2Fwork%2Fcourses%2F2016%2Ffall%2F301%2Fa%2Fprolog%2Fprolog..rkt._~3dand%29%29" class="RktStxLink" data-pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Z</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">Z</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Then we get the following query results:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">show</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">x: sonny</span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">x: michael</span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">x: fredo</span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">x: sophia</span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt">x: tony</span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">'fail</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">find-all</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">(list<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'sophia))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'tony)))</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">find-some</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">(list<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'vito)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'dom))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'sonny)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'vito))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'michael)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'vito)))</span></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="wlazy.html" title="backward to &quot;3.17 Analysis: Laziness&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="index.html#%28part._turnin%29" title="forward to &quot;4 Turn-In and Grading&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
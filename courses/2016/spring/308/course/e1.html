<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>3.9&nbsp;Extra Credit: McDOS</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Operating Systems (Spring 2016)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Lectures%29" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._turnin%29" class="tocviewlink" data-pltdoc="x">Turn-<wbr></wbr>In and Grading</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Readings%29" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._software%29" class="tocviewlink" data-pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#%28part._.Fine_.Print%29" class="tocviewlink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="a1.html" class="tocviewlink" data-pltdoc="x">Basic Processes</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="a2.html" class="tocviewlink" data-pltdoc="x">Interprocess Communication</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="exam1.html" class="tocviewlink" data-pltdoc="x">Exam 1</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="a3.html" class="tocviewlink" data-pltdoc="x">Time to Make the Donuts</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="a4.html" class="tocviewlink" data-pltdoc="x">World Donutination</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="exam2.html" class="tocviewlink" data-pltdoc="x">Exam 2</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="a5.html" class="tocviewlink" data-pltdoc="x">Memory Management Simulator</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="a6.html" class="tocviewlink" data-pltdoc="x"><span class="RktSym">ls</span><span class="RktMeta"></span></a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">Extra Credit:<span class="mywbr"> &nbsp;</span> Mc<span class="mywbr"> &nbsp;</span>DOS</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="final.html" class="tocviewlink" data-pltdoc="x">Final</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a6.html" title="backward to &quot;3.8 ls&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="final.html" title="forward to &quot;3.10 Final&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.9<tt>&nbsp;</tt><a name="(part._e1)"></a>Extra Credit: McDOS</h4><p>In C, implement a mock OS with a terminal interface.</p><p>Your program should accept a path as a command-line argument. If the
path exists, then run in <a href="#%28tech._execute%29" class="techoutside" data-pltdoc="x"><span class="techinside">execute</span></a> mode. If it does not, then run
in <a href="#%28tech._create%29" class="techoutside" data-pltdoc="x"><span class="techinside">create</span></a> mode.</p><p>In <a name="(tech._create)"></a><span style="font-style: italic">create</span> mode, the program should run with a little
interactive prompt which should ask for (a) the size of the disk
and (b) the number of users to create, then their usernames and
passwords. It should create the disk file, initialize it, and then
exit. This should create a format the disk. You can use any format you
want for the disk, but you must keep track of the users as well as
file contents. The filesystem must store files and directories. Every
file should have metadata for an owner, permissions, a create time, a
modify time, and a name.</p><p>In <a name="(tech._execute)"></a><span style="font-style: italic">execute</span> mode, you should display a login prompt,
and once logged in, you should get a basic shell that supports the
following commands:</p><ul><li><p><span class="RktSym">cd</span><span class="RktMeta"></span> - change the directory (including <span class="RktInBG"><span class="hspace"></span><span class="RktIn">..</span><span class="hspace"></span></span>)</p></li><li><p><span class="RktSym">ls</span><span class="RktMeta"></span> - displays directory contents, including file names,
sizes, and all metadata.</p></li><li><p><span class="RktSym">diskinfo</span><span class="RktMeta"></span> - display information about the internal disk (free, used, etc)</p></li><li><p><span class="RktSym">cat</span><span class="RktMeta"></span> - displays a file named on command-line</p></li><li><p><span class="RktSym">rm</span><span class="RktMeta"></span> - remove file</p></li><li><p><span class="RktSym">rmdir</span><span class="RktMeta"></span> - remove directory</p></li><li><p><span class="RktSym">mkdir</span><span class="RktMeta"></span> - create directory</p></li><li><p><span class="RktSym">cp</span><span class="RktMeta"></span> - copy file</p></li><li><p><span class="RktSym">mv</span><span class="RktMeta"></span> - move file</p></li><li><p><span class="RktSym">chmod</span><span class="RktMeta"></span> - change permissions</p></li><li><p><span class="RktSym">chown</span><span class="RktMeta"></span> - change owner</p></li><li><p><span class="RktSym">exit</span><span class="RktMeta"></span> - log out</p></li><li><p><span class="RktSym">ed</span><span class="RktMeta"></span> - edit a file.</p><p>Here is a suggested interface: Start a new prompt with commands
for each of the things an editor can do. Model after the unix
<span class="RktSym">ed</span><span class="RktMeta"></span> command. Allow the user to seek to a line, then display it
or enter a new version of the line. Allow the user to add new lines to
the file. Allow the user to quit. Don&rsquo;t bother with saving, but feel
free to have the changes reflected on disk instantly.</p></li></ul><p>This assignment may look complicated, but there&rsquo;s a very easy way to
do all of it. If you need to make it simpler to do it, I&rsquo;ll give you
less extra credit. If you want to make it more complicated, I&rsquo;ll give
you more extra credit.</p><p>The assignment is deliberately vague, so that you can flesh it out for
yourself.</p><p><div class="SIntrapara">You must turn in
</div><div class="SIntrapara"><ul><li><p>A <span class="RktSym">README</span><span class="RktMeta"></span> file that contains a short write-up of your
project. It should discuss the approach you took to solving the
problem, it should discuss any problems or issues that still remain,
it should discuss any interesting things that you learned in the
course of the project. Finally, it should provide the grade you
believe the project deserves with a detailed explanation of why. This
explanation should almost certainly focus on why you believe the
program is correct.</p><p>This file must be in plain-text. If you need formatting, use
Markdown. It must be limited to 80 characters wide, unless you are
quoting program output.</p></li><li><p>Your source code, named <span class="RktSym">mcdos.c</span><span class="RktMeta"></span>.</p></li><li><p>A <span class="RktSym">Makefile</span><span class="RktMeta"></span> that first builds the program and then tests
it by running it in a way that demonstrates each mode, all the
features, and the persistence of the data.</p></li></ul></div></p><p>This assignment will be graded based on its correctness and your
ability to articulate why it is correct.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a6.html" title="backward to &quot;3.8 ls&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="final.html" title="forward to &quot;3.10 Final&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
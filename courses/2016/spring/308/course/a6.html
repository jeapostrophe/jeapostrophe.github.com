<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>3.8&nbsp;ls</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Operating Systems (Spring 2016)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Lectures%29" class="tocviewlink" data-pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewselflink" data-pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._turnin%29" class="tocviewlink" data-pltdoc="x">Turn-<wbr></wbr>In and Grading</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Readings%29" class="tocviewlink" data-pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._software%29" class="tocviewlink" data-pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#%28part._.Fine_.Print%29" class="tocviewlink" data-pltdoc="x">Fine Print</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#%28part._assignments%29" class="tocviewlink" data-pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublistbottom" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="a1.html" class="tocviewlink" data-pltdoc="x">Basic Processes</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="a2.html" class="tocviewlink" data-pltdoc="x">Interprocess Communication</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="exam1.html" class="tocviewlink" data-pltdoc="x">Exam 1</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="a3.html" class="tocviewlink" data-pltdoc="x">Time to Make the Donuts</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="a4.html" class="tocviewlink" data-pltdoc="x">World Donutination</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="exam2.html" class="tocviewlink" data-pltdoc="x">Exam 2</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="a5.html" class="tocviewlink" data-pltdoc="x">Memory Management Simulator</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x"><span class="RktSym">ls</span><span class="RktMeta"></span></a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="e1.html" class="tocviewlink" data-pltdoc="x">Extra Credit:<span class="mywbr"> &nbsp;</span> Mc<span class="mywbr"> &nbsp;</span>DOS</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="final.html" class="tocviewlink" data-pltdoc="x">Final</a></td></tr></table></div></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a5.html" title="backward to &quot;3.7 Memory Management Simulator&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="e1.html" title="forward to &quot;3.9 Extra Credit: McDOS&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.8<tt>&nbsp;</tt><a name="(part._a6)"></a><span class="RktSym">ls</span><span class="RktMeta"></span></h4><p>In C, using UNIX system calls, implement a basic version of <span class="RktSym">ls</span><span class="RktMeta"></span>.</p><p>Your program should will receive any number of command-line
arguments. If it receives none, run in <a href="#%28tech._all%29" class="techoutside" data-pltdoc="x"><span class="techinside">all</span></a> mode. If it receive
some, run in <a href="#%28tech._some%29" class="techoutside" data-pltdoc="x"><span class="techinside">some</span></a> mode.</p><p>In <a name="(tech._all)"></a><span style="font-style: italic">all</span> mode, read the current working directory and run in
<a href="#%28tech._some%29" class="techoutside" data-pltdoc="x"><span class="techinside">some</span></a> mode as if every file were given as arguments. (Use
<span class="RktSym">man</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">opendir</span><span class="RktMeta"></span>.)</p><p>In <a name="(tech._some)"></a><span style="font-style: italic">some</span> mode, treat each argument as the name of file and
output a <a href="#%28tech._file._info%29" class="techoutside" data-pltdoc="x"><span class="techinside">file info</span></a> line for it. (Use <span class="RktSym">man</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">lstat</span><span class="RktMeta"></span>.)</p><p>A <a name="(tech._file._info)"></a><span style="font-style: italic">file info</span> line has the format <span class="RktInBG"><span class="hspace"></span><span class="RktIn">TYPE PERMS LINK-COUNT OWNER GROUP SIZE MTIME INODE FILENAME</span><span class="hspace"></span></span>. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">TYPE</span><span class="hspace"></span></span> is
either <span class="RktInBG"><span class="hspace"></span><span class="RktIn">-</span><span class="hspace"></span></span> for ordinary files, <span class="RktInBG"><span class="hspace"></span><span class="RktIn">d</span><span class="hspace"></span></span> for directories,
and <span class="RktInBG"><span class="hspace"></span><span class="RktIn">l</span><span class="hspace"></span></span> for symbolic links. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">PERMS</span><span class="hspace"></span></span> is the
permissions, in the same format as <span class="stt">ls -l</span>. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">LINK-COUNT</span><span class="hspace"></span></span>
is the link count (a field that comes from
<span class="RktSym">lstat</span><span class="RktMeta"></span>). <span class="RktInBG"><span class="hspace"></span><span class="RktIn">OWNER</span><span class="hspace"></span></span> is the owner as a
string. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">GROUP</span><span class="hspace"></span></span> is the group as a string. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">SIZE</span><span class="hspace"></span></span> is
the size in bytes. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">MTIME</span><span class="hspace"></span></span> is the modification time as
formatted by <span class="RktSym">man</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta"></span><span class="RktSym">ctime</span><span class="RktMeta"></span>. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">INODE</span><span class="hspace"></span></span> is the inode
number. <span class="RktInBG"><span class="hspace"></span><span class="RktIn">FILENAME</span><span class="hspace"></span></span> is the name of the file.</p><p>Your program should have no other output.</p><p><div class="SIntrapara">You must turn in
</div><div class="SIntrapara"><ul><li><p>A <span class="RktSym">README</span><span class="RktMeta"></span> file that contains a short write-up of your
project. It should discuss the approach you took to solving the
problem, it should discuss any problems or issues that still remain,
it should discuss any interesting things that you learned in the
course of the project. Finally, it should provide the grade you
believe the project deserves with a detailed explanation of why. This
explanation should almost certainly focus on why you believe the
program is correct.</p><p>You should quote your tests and their output.</p><p>This file must be in plain-text. If you need formatting, use
Markdown. It must be limited to 80 characters wide, unless you are
quoting program output.</p></li><li><p>Your source code, named <span class="RktSym">a6.c</span><span class="RktMeta"></span>.</p></li><li><p>A test output files, named however you want, for use during
testing.</p></li><li><p>A <span class="RktSym">Makefile</span><span class="RktMeta"></span> that first builds the program and then tests
it by running it on a bunch of different arguments demonstrating each
of the features, comparing the output with your expected output
files.</p></li></ul></div></p><p>This assignment will be graded based on its correctness and your
ability to articulate why it is correct.</p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="a5.html" title="backward to &quot;3.7 Memory Management Simulator&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._assignments%29" title="up to &quot;3 Assignments&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="e1.html" title="forward to &quot;3.9 Extra Credit: McDOS&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
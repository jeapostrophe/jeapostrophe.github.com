<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text-html; charset=utf-8" /><title>3.21&nbsp;Prolog</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><link rel="stylesheet" type="text/css" href="course.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" pltdoc="x">Programming Language Design (Fall 2011)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#(part._.Introduction)" class="tocviewlink" pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#(part._.Lectures)" class="tocviewlink" pltdoc="x">Lectures</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#(part._assignments)" class="tocviewselflink" pltdoc="x">Assignments</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#(part._.Help)" class="tocviewlink" pltdoc="x">Help</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#(part._turnin)" class="tocviewlink" pltdoc="x">Turn In Policy</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#(part._.Readings)" class="tocviewlink" pltdoc="x">Readings</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#(part._software)" class="tocviewlink" pltdoc="x">Software</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#(part._.Exams)" class="tocviewlink" pltdoc="x">Exams</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="index.html#(part._.Grading)" class="tocviewlink" pltdoc="x">Grading</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="index.html#(part._.Your_.Final_.Grade)" class="tocviewlink" pltdoc="x">Your Final Grade</a></td></tr><tr><td align="right">11&nbsp;</td><td><a href="index.html#(part._.Team_.Work)" class="tocviewlink" pltdoc="x">Team Work</a></td></tr><tr><td align="right">12&nbsp;</td><td><a href="index.html#(part._.Codewalks)" class="tocviewlink" pltdoc="x">Codewalks</a></td></tr><tr><td align="right">13&nbsp;</td><td><a href="index.html#(part._.Advice)" class="tocviewlink" pltdoc="x">Advice</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>3&nbsp;</td><td><a href="index.html#(part._assignments)" class="tocviewlink" pltdoc="x">Assignments</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.1&nbsp;</td><td><a href="survey.html" class="tocviewlink" pltdoc="x">Survey</a></td></tr><tr><td align="right">3.2&nbsp;</td><td><a href="basic.html" class="tocviewlink" pltdoc="x">Basic Racket</a></td></tr><tr><td align="right">3.3&nbsp;</td><td><a href="music.html" class="tocviewlink" pltdoc="x">Musical Notation</a></td></tr><tr><td align="right">3.4&nbsp;</td><td><a href="lists.html" class="tocviewlink" pltdoc="x">Lists and Trees</a></td></tr><tr><td align="right">3.5&nbsp;</td><td><a href="hof.html" class="tocviewlink" pltdoc="x">Higher-<wbr></wbr>order Functions</a></td></tr><tr><td align="right">3.6&nbsp;</td><td><a href="rinterp.html" class="tocviewlink" pltdoc="x">Rudimentary Interpreter</a></td></tr><tr><td align="right">3.7&nbsp;</td><td><a href="wsubst.html" class="tocviewlink" pltdoc="x">Substitution</a></td></tr><tr><td align="right">3.8&nbsp;</td><td><a href="xinterp.html" class="tocviewlink" pltdoc="x">Extended Interpreter</a></td></tr><tr><td align="right">3.9&nbsp;</td><td><a href="lazy.html" class="tocviewlink" pltdoc="x">Laziness and Infinite Data</a></td></tr><tr><td align="right">3.10&nbsp;</td><td><a href="wlazy.html" class="tocviewlink" pltdoc="x">Laziness</a></td></tr><tr><td align="right">3.11&nbsp;</td><td><a href="rawweb.html" class="tocviewlink" pltdoc="x">Raw Web Programming</a></td></tr><tr><td align="right">3.12&nbsp;</td><td><a href="wlang.html" class="tocviewlink" pltdoc="x">Language Design</a></td></tr><tr><td align="right">3.13&nbsp;</td><td><a href="wcont.html" class="tocviewlink" pltdoc="x">Continuations</a></td></tr><tr><td align="right">3.14&nbsp;</td><td><a href="pltweb.html" class="tocviewlink" pltdoc="x">Racket Web Programming</a></td></tr><tr><td align="right">3.15&nbsp;</td><td><a href="wgc.html" class="tocviewlink" pltdoc="x">Garbage Collection</a></td></tr><tr><td align="right">3.16&nbsp;</td><td><a href="gc.html" class="tocviewlink" pltdoc="x">Garbage Collectors</a></td></tr><tr><td align="right">3.17&nbsp;</td><td><a href="wtypec.html" class="tocviewlink" pltdoc="x">Type Checking</a></td></tr><tr><td align="right">3.18&nbsp;</td><td><a href="typec.html" class="tocviewlink" pltdoc="x">Type Checker</a></td></tr><tr><td align="right">3.19&nbsp;</td><td><a href="typei.html" class="tocviewlink" pltdoc="x">Type Inferrer</a></td></tr><tr><td align="right">3.20&nbsp;</td><td><a href="wtypei.html" class="tocviewlink" pltdoc="x">Type Inference</a></td></tr><tr><td align="right">3.21&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Prolog</a></td></tr><tr><td align="right">3.22&nbsp;</td><td><a href="final.html" class="tocviewlink" pltdoc="x">Final</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>3.21&nbsp;</td><td><a href="" class="tocviewselflink" pltdoc="x">Prolog</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">3.21.1&nbsp;</td><td><a href="#(part._.Interactive_.Testing)" class="tocviewlink" pltdoc="x">Interactive Testing</a></td></tr><tr><td align="right">3.21.2&nbsp;</td><td><a href="#(part._.Testing_.Harness)" class="tocviewlink" pltdoc="x">Testing Harness</a></td></tr><tr><td align="right">3.21.3&nbsp;</td><td><a href="#(part._.Additional_.Notes)" class="tocviewlink" pltdoc="x">Additional Notes</a></td></tr><tr><td align="right">3.21.4&nbsp;</td><td><a href="#(part._.Example_1__.Simple_.Search)" class="tocviewlink" pltdoc="x">Example 1:<span class="mywbr"> </span> Simple Search</a></td></tr><tr><td align="right">3.21.5&nbsp;</td><td><a href="#(part._.Example_2__.Family_.Trees)" class="tocviewlink" pltdoc="x">Example 2:<span class="mywbr"> </span> Family Trees</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">=succeed</span></span></a></td></tr><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">=fail</span></span></a></td></tr><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt.__))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">_<span class="mywbr"> </span></span></span></a></td></tr><tr><td><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktStxLink">=var</span></span></a></td></tr><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">=or2</span></span></a></td></tr><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">=and2</span></span></a></td></tr><tr><td><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktStxLink">=or</span></span></a></td></tr><tr><td><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktStxLink">=and</span></span></a></td></tr><tr><td><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktStxLink">=find-<wbr></wbr>all</span></span></a></td></tr><tr><td><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-some))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktStxLink">=find-<wbr></wbr>some</span></span></a></td></tr><tr><td><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="tocsubnonseclink" pltdoc="x"><span class="RktSym"><span class="RktValLink">==</span></span></a></td></tr><tr><td><span class="tocsublinknumber">3.21.1<tt>&nbsp;</tt></span><a href="#(part._.Interactive_.Testing)" class="tocsubseclink" pltdoc="x">Interactive Testing</a></td></tr><tr><td><span class="tocsublinknumber">3.21.2<tt>&nbsp;</tt></span><a href="#(part._.Testing_.Harness)" class="tocsubseclink" pltdoc="x">Testing Harness</a></td></tr><tr><td><span class="tocsublinknumber">3.21.3<tt>&nbsp;</tt></span><a href="#(part._.Additional_.Notes)" class="tocsubseclink" pltdoc="x">Additional Notes</a></td></tr><tr><td><span class="tocsublinknumber">3.21.4<tt>&nbsp;</tt></span><a href="#(part._.Example_1__.Simple_.Search)" class="tocsubseclink" pltdoc="x">Example 1:<span class="mywbr"> </span> Simple Search</a></td></tr><tr><td><span class="tocsublinknumber">3.21.5<tt>&nbsp;</tt></span><a href="#(part._.Example_2__.Family_.Trees)" class="tocsubseclink" pltdoc="x">Example 2:<span class="mywbr"> </span> Family Trees</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="wtypei.html" title="backward to &quot;3.20 Type Inference&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#(part._assignments)" title="up to &quot;3 Assignments&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="final.html" title="forward to &quot;3.22 Final&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>3.21<tt>&nbsp;</tt><a name="(part._prolog)"></a>Prolog</h4><p><span style="font-style: italic">Complete this assignment with Team Three.</span></p><p><span style="font-style: italic">You <span style="font-weight: bold">must</span> submit this in an archive named <span class="stt">"prolog.zip"</span>.

This archive <span style="font-weight: bold">must</span> contain a folder named <span class="stt">"prolog"</span>.

This folder <span style="font-weight: bold">must</span> contain all the files specified below.

You <span style="font-weight: bold">must</span> attach <span class="stt">"prolog.zip"</span> to an email whose subject is "BYU - Fall 2011 - CS 330 - prolog" and whose message body contains the name of everyone on your team (each on a separate line.)

You <span style="font-weight: bold">must</span> send this email to <a href="mailto:jay@cs.byu.edu">jay@cs.byu.edu</a> before 5pm (Provo time) on 12/14.

<span style="font-weight: bold">Ensure</span> that what you are satisfied with what you submit, because only your chronologically first submission will be graded.

<span style="font-weight: bold">Ensure</span> that you follow these instructions <span style="font-weight: bold">exactly</span>, since submissions that do not meet these requirements (i.e. do not have the correct format) will receive <span style="font-weight: bold">no credit</span>, despite the time and energy you put into the assignment.

Please see <a href="index.html#(part._turnin)" pltdoc="x">Turn In Policy</a> for more information.
</span></p><p><span style="font-style: italic">You <span style="font-weight: bold">must</span> submit this in a file named <span class="stt">"prolog.rkt"</span>.</span></p><blockquote class="SubFlow"><p><div class="SIntrapara">You must complete this assignment using a specific language.
Choose <span style="font-family: sans-serif; font-size: 80%; font-weight: bold">Determine language from source</span> in the DrRacket menu, then
write
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><a href="http://docs.racket-lang.org/guide/Module_Syntax.html#(part._hash-lang)" class="RktModLink" pltdoc="x"><span class="RktMod">#lang</span></a><span class="hspace">&nbsp;</span><a href="http://docs.racket-lang.org/plai/plai-scheme.html" class="RktModLink" pltdoc="x"><span class="RktSym">plai</span></a></p></blockquote></div><div class="SIntrapara">as the <span style="font-style: italic">first line</span> of your program, overwritting the default <a href="http://docs.racket-lang.org/guide/Module_Syntax.html#(part._hash-lang)" class="RktModLink" pltdoc="x"><span class="RktMod">#lang</span></a> at the top of the file.</div></p></blockquote><p>In this assignment, you will implement Prolog-style logic variables and backtracking search using Racket&rsquo;s macros and continuations.</p><p>In this assignment, a <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span> is a function that accepts a <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._failure-continuation~3f))" class="RktValLink" pltdoc="x">failure-continuation?</a></span> and returns a
<span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._success-continuation~3f))" class="RktValLink" pltdoc="x">success-continuation?</a></span>.</p><p>A <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._failure-continuation~3f))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._failure-continuation~3f))" class="RktValLink" pltdoc="x">failure-continuation?</a></span> is a function that accepts a value (which it ignores) and <span style="font-style: italic">fails</span>;
failure may mean aborting the entire Prolog search (meaning it returns nothing), or it may mean backtracking to an earlier point and trying
something different (meaning it returns a <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._success-continuation~3f))" class="RktValLink" pltdoc="x">success-continuation?</a></span>).</p><p>A <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._success-continuation~3f))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._success-continuation~3f))" class="RktValLink" pltdoc="x">success-continuation?</a></span> is a function that accepts a value (which it ignores) and <span style="font-style: italic">tries again</span>;
trying again may not be possible, so the search is aborted (meaning it returns nothing), or it may mean backtracking to an earlier point and trying
something different (meaning it returns a <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._success-continuation~3f))" class="RktValLink" pltdoc="x">success-continuation?</a></span>).</p><p>You must define a new data structure for <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._logic-variable~3f))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._logic-variable~3f))" class="RktValLink" pltdoc="x">logic-variable?</a></span>s. The assignment text imposes some constraints on this data structure.
This data structure will contain <a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))" class="RktValLink" pltdoc="x">prolog-value?</a></span>s. <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))" class="RktValLink" pltdoc="x">prolog-value?</a></span>s are numbers, strings, symbols, <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._logic-variable~3f))" class="RktValLink" pltdoc="x">logic-variable?</a></span>s, <span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket%2Flist..rkt)._empty))" class="RktValLink" pltdoc="x">empty</a></span>,
or <span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._cons))" class="RktValLink" pltdoc="x">cons</a></span> cells that only contain <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))" class="RktValLink" pltdoc="x">prolog-value?</a></span>s.</p><p>You must implement the following:</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds exactly once.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Never succeeds.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt.__))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt.__))" class="RktValLink" pltdoc="x">_</a></span><span class="RktPn"></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._logic-variable~3f))" class="RktValLink" pltdoc="x">logic-variable?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns a fresh anonymous variable. This always succeeds and affects nothing else.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))"></a><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#(def._((lib._racket%2Fprivate%2Fstx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Binds all of the <span class="RktVar">v</span> identifiers to fresh logic variables (returned from <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt.__))" class="RktValLink" pltdoc="x">_</a></span>) and evaluates <span class="RktVar">e</span> in the extended environment.</div></p><p>This can be implemented by expanding to <span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span>.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds when either <span class="RktVar">e1</span> or <span class="RktVar">e2</span> succeeds. If <span class="RktVar">e1</span> succeeds <span class="RktSym">n</span> times and <span class="RktVar">e2</span> succeeds <span class="RktSym">m</span> times
then <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktVar">e1</span><span class="stt"> </span><span class="RktVar">e2</span><span class="RktPn">)</span> succeeds <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._%2B))" class="RktValLink" pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">m</span><span class="RktPn">)</span> times, with all of the <span class="RktVar">e1</span> successes <span style="font-style: italic">before</span> the <span class="RktVar">e2</span> successes.</div></p><p>For example, <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span> succeeds <span class="RktVal">3</span> times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))" class="RktValLink" pltdoc="x">=and2</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Succeeds when both <span class="RktVar">e1</span> and <span class="RktVar">e2</span> succeed. If <span class="RktVar">e1</span> succeeds many times, then <span class="RktVar">e2</span> must be evaluate for each
of those times, with all of its successes for a particular <span class="RktVar">e1</span> success succeeding before <span class="RktVar">e1</span> succeeds again. In many cases
this means <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))" class="RktValLink" pltdoc="x">=and2</a></span><span class="stt"> </span><span class="RktVar">e1</span><span class="stt"> </span><span class="RktVar">e2</span><span class="RktPn">)</span> suceeds <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="RktValLink" pltdoc="x">*</a></span><span class="stt"> </span><span class="RktSym">n</span><span class="stt"> </span><span class="RktSym">m</span><span class="RktPn">)</span> times if <span class="RktVar">e1</span> succeeds <span class="RktSym">n</span> times and <span class="RktVar">e2</span> succeeds <span class="RktSym">m</span>
times. (This is not always the case because some of <span class="RktVar">e1</span>&rsquo;s successes may be incompatible with <span class="RktVar">e2</span>.)</div></p><p>For example, <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))" class="RktValLink" pltdoc="x">=and2</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="stt"> </span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span> succeeds <span class="RktVal">2</span> times.</p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))"></a><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor2))" class="RktValLink" pltdoc="x">=or2</a></span> but for many Prolog expressions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))"></a><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand2))" class="RktValLink" pltdoc="x">=and2</a></span> but for many Prolog expressions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))"></a><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="RktStxLink" pltdoc="x">=find-all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#(def._((lib._racket%2Fprivate%2Fstx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Evaluates to a list of all the solutions to <span class="RktVar">e</span>. Each solution is a list of logic variable bindings (one binding for each of the <span class="RktVar">v</span>).
Each variable binding is a two-element list consisting of the quoted variable name (a symbol) and its value. Note that if the value is a list, it
should be returned as a Racket list.</div></p><p>The solutions should be returned in the order of their discovery (by a left-to-right depth-first search) and each solution should list the variables
in the order provided.</p><p><div class="SIntrapara">For example,
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="RktStxLink" pltdoc="x">=find-all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">evalutes to
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">4</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">5</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._list))" class="RktValLink" pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">6</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-some))"></a><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-some))" class="RktStxLink" pltdoc="x">=find-some</a></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">v</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">e</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><blockquote class="SubFlow"><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">n</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/number-types.html#(def._((quote._~23~25kernel)._exact-nonnegative-integer~3f))" class="RktValLink" pltdoc="x">exact-nonnegative-integer?</a></span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">v</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stxops.html#(def._((lib._racket%2Fprivate%2Fstx..rkt)._identifier~3f))" class="RktValLink" pltdoc="x">identifier?</a></span></td></tr></table><table cellspacing="0" class="argcontract"><tr><td><span class="hspace">&nbsp;&nbsp;</span></td><td><span class="RktVar">e</span></td><td><span class="hspace">&nbsp;</span></td><td>:</td><td><span class="hspace">&nbsp;</span></td><td><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr></table></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Like <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="RktStxLink" pltdoc="x">=find-all</a></span>, except the search is bound to at most <span class="RktVar">n</span> solutions. This makes it possible to test
queries with infinite solutions.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" class="boxed RBoxed"><tr><td><span class="RktPn">(</span><a name="(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))"></a><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span><span class="RktVar">e2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-expression~3f))" class="RktValLink" pltdoc="x">prolog-expression?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))" class="RktValLink" pltdoc="x">prolog-value?</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">e2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._prolog-value~3f))" class="RktValLink" pltdoc="x">prolog-value?</a></span></td></tr></table></blockquote></div><div class="SIntrapara">Attempts to unify <span class="RktVar">e1</span> and <span class="RktVar">e2</span>, succeeding at most once.</div></p><p>If <span class="RktVar">e1</span> and <span class="RktVar">e2</span> can be unified, the expression succeeds.
If they cannot be unified, the expression fails. Unification must always terminate: you must implement an occurs check.</p><p><div class="SIntrapara">Two Racket values can be unified if they are <span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span>. For example, <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="stt"> </span><span class="RktVal">5</span><span class="stt"> </span><span class="RktVal">5</span><span class="RktPn">)</span> succeeds, whereas <span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="stt"> </span><span class="RktVal">0</span><span class="stt"> </span><span class="RktVal">1</span><span class="RktPn">)</span> fails.
Unification for logic variables is trickier. If a logic variable is unbound, it assumes the value necessary to make the expression
succeed. For example, the following expression succeeds:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara">The logic variable <span class="RktSym">x</span> assumes the value <span class="RktVal">0</span>. However, if a logic variable is already bound, it must be treated as
the value its bound to. For example, the following expression fails:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><h5>3.21.1<tt>&nbsp;</tt><a name="(part._.Interactive_.Testing)"></a>Interactive Testing</h5><p><div class="SIntrapara">These are not required by the assignment, but to aid in interactive testing (as shown in the examples below),
you may find the following two definitions helpful:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#(def._((quote._~23~25kernel)._box))" class="RktValLink" pltdoc="x">box</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">resumer</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#(def._((quote._~23~25kernel)._unbox))" class="RktValLink" pltdoc="x">unbox</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">dummy</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define-syntax))" class="RktStxLink" pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">show</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._syntax-rules))" class="RktStxLink" pltdoc="x">syntax-rules</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">show</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vars</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">e</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">vars</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#(form._((lib._racket%2Fprivate%2Fmore-scheme..rkt)._let%2Fcc))" class="RktStxLink" pltdoc="x">let/cc</a></span><span class="hspace">&nbsp;</span><span class="RktSym">esc</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/cont.html#(form._((lib._racket%2Fprivate%2Fmore-scheme..rkt)._let%2Fcc))" class="RktStxLink" pltdoc="x">let/cc</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fk</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">esc</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">next</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">e</span><span class="hspace">&nbsp;</span><span class="RktSym">fk</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/boxes.html#(def._((quote._~23~25kernel)._set-box!))" class="RktValLink" pltdoc="x">set-box!</a></span><span class="hspace">&nbsp;</span><span class="RktSym">resumer-box</span><span class="hspace">&nbsp;</span><span class="RktSym">next</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/Writing.html#(def._((quote._~23~25kernel)._printf))" class="RktValLink" pltdoc="x">printf</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"~a: ~a~n"</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vars</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">lv-value</span><span class="hspace">&nbsp;</span><span class="RktSym">vars</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/void.html#(def._((quote._~23~25kernel)._void))" class="RktValLink" pltdoc="x">void</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fail</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>where <span class="RktSym">lv-value</span> accesses the value stored in the given logic variable.</p><p>Please note that these definitions are very implementation specific.</p><h5>3.21.2<tt>&nbsp;</tt><a name="(part._.Testing_.Harness)"></a>Testing Harness</h5><p><div class="SIntrapara">Please use the following definitions to help you with your testing:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">symbol -&gt; boolean : returns true if and only if the given</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">symbol is an uninterned symbol</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">gensym?</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._not))" class="RktValLink" pltdoc="x">not</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._string-~3esymbol))" class="RktValLink" pltdoc="x">string-&gt;symbol</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/symbols.html#(def._((quote._~23~25kernel)._symbol-~3estring))" class="RktValLink" pltdoc="x">symbol-&gt;string</a></span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">s</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">list X list -&gt; boolean : takes two bindings (for example,</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">returned from =find-all) and returns true if and only if</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">the two variables they bind are equal to the same thing.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">binding-equal?</span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((quote._~23~25kernel)._equal~3f))" class="RktValLink" pltdoc="x">equal?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket%2Flist..rkt)._second))" class="RktValLink" pltdoc="x">second</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((lib._racket%2Flist..rkt)._second))" class="RktValLink" pltdoc="x">second</a></span><span class="hspace">&nbsp;</span><span class="RktSym">b2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Prolog-Expr X symbol X bool-Exprs ... -&gt; Test result : Takes a</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">(=find-all ...) or (=find-some ...), an identifier, and a set of</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">expressions that evaluate to booleans when the identifier is</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">bound to the result of the given Prolog-expr. The test passes</span></td></tr><tr><td><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">if and only if all of the boolean expressions are true.</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define-syntax))" class="RktStxLink" pltdoc="x">define-syntax</a></span><span class="hspace">&nbsp;</span><span class="RktSym">test-prolog</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._syntax-rules))" class="RktStxLink" pltdoc="x">syntax-rules</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">test-prolog</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">[</span><span class="RktPn">(</span><span class="RktSym">test-prolog</span><span class="hspace">&nbsp;</span><span class="RktSym">find-expr</span><span class="hspace">&nbsp;</span><span class="RktSym">result-id</span><span class="hspace">&nbsp;</span><span class="RktSym">bool</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/plai/plai-scheme.html#(form._((lib._plai%2Fmain..rkt)._test))" class="RktStxLink" pltdoc="x">test</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/let.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._let))" class="RktStxLink" pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">[</span><span class="RktSym">result-id</span><span class="hspace">&nbsp;</span><span class="RktSym">find-expr</span><span class="RktPn">]</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/if.html#(form._((lib._racket%2Fprivate%2Fletstx-scheme..rkt)._and))" class="RktStxLink" pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktSym">bool</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/stx-patterns.html#(form._((lib._racket%2Fprivate%2Fstxcase-scheme..rkt)._......))" class="RktStxLink" pltdoc="x">...</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/booleans.html#(def._((lib._racket%2Fbool..rkt)._true))" class="RktValLink" pltdoc="x">true</a></span><span class="RktPn">)</span><span class="RktPn">]</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h5>3.21.3<tt>&nbsp;</tt><a name="(part._.Additional_.Notes)"></a>Additional Notes</h5><p>Do not use global variables for this assignment. We expect your implementation to have the ability to do a query, capture the
continuation returned, do a different query, and then invoke the first continuation with no trouble.</p><p>Unbound variables should have a unique &ldquo;value&rdquo; in their output. That is, if <span class="RktSym">y</span> is unbound, it should have a unique symbol
as its value. If <span class="RktSym">x</span> and <span class="RktSym">y</span> are dependently unbound, they should have the same unique symbol as their values. For example,
in the evaluation of <span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="stt"> </span><span class="RktSym">x</span><span class="stt"> </span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span>, <span class="RktSym">x</span> and <span class="RktSym">y</span> are dependently unbound.</p><p>Remember that order counts. Please carefully read the definitions for <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="RktStxLink" pltdoc="x">=find-all</a></span> and <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-some))" class="RktStxLink" pltdoc="x">=find-some</a></span>.
Even if your results are correct, if they are in the wrong order or format, they will be marked as incorrect.</p><h5>3.21.4<tt>&nbsp;</tt><a name="(part._.Example_1__.Simple_.Search)"></a>Example 1: Simple Search</h5><p><div class="SIntrapara">You might want to start by just testing <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span> and <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span> with <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span> and <span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span> (no logic variables).
In this restricted setting, there are a couple of useful properties: namely, if <span class="RktSym">e1</span> succeeds in <span class="RktSym">n1</span> ways, <span class="RktSym">e2</span>
succeeds in <span class="RktSym">n2</span> ways, etc., then <span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="stt"> </span><span class="RktSym">e1</span><span class="stt"> </span><span class="RktSym">e2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> succeeds in <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._%2B))" class="RktValLink" pltdoc="x">+</a></span><span class="stt"> </span><span class="RktSym">n1</span><span class="stt"> </span><span class="RktSym">n2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> ways, and
<span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="stt"> </span><span class="RktSym">e1</span><span class="stt"> </span><span class="RktSym">e2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> succeeds in <span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._*))" class="RktValLink" pltdoc="x">*</a></span><span class="stt"> </span><span class="RktSym">n1</span><span class="stt"> </span><span class="RktSym">n2</span><span class="stt"> </span><span class="RktSym">....</span><span class="RktPn">)</span> ways. For instance,
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">succeeds in six ways. The first <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span> succeeds in three ways, the second <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span> succeeds in two ways, and the <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span>
combines them in all possible ways. Likewise,
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">succeeds in two ways. The first and third <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span>s each succeed in one way, and the <span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span> explores both of them.
You can use <span class="RktSym">show</span> (with an empty variable list) and <span class="RktSym">next</span> to count how many times a query succeeds.
You can also use the following <span class="RktSym">test-prolog</span> expression:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">test-prolog</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfind-all))" class="RktStxLink" pltdoc="x">=find-all</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dfail))" class="RktValLink" pltdoc="x">=fail</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dsucceed))" class="RktValLink" pltdoc="x">=succeed</a></span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktSym">result</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/generic-numbers.html#(def._((quote._~23~25kernel)._~3d))" class="RktValLink" pltdoc="x">=</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/pairs.html#(def._((quote._~23~25kernel)._length))" class="RktValLink" pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktSym">result</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h5>3.21.5<tt>&nbsp;</tt><a name="(part._.Example_2__.Family_.Trees)"></a>Example 2: Family Trees</h5><p><div class="SIntrapara">As a more complicated example, suppose we have the following definitions:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">dom</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sonny</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">fredo</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">sophia</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">c</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">tony</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(def._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3d~3d))" class="RktValLink" pltdoc="x">==</a></span><span class="hspace">&nbsp;</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="http://docs.racket-lang.org/reference/define.html#(form._((lib._racket%2Fprivate%2Fbase..rkt)._define))" class="RktStxLink" pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dor))" class="RktStxLink" pltdoc="x">=or</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dvar))" class="RktStxLink" pltdoc="x">=var</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">Z</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#(form._(/.Users/jay/.Dev/scm/github..jeapostrophe/work/courses/2011/fall/330/a/prolog/prolog..rkt._~3dand))" class="RktStxLink" pltdoc="x">=and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">X</span><span class="hspace">&nbsp;</span><span class="RktSym">Z</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">Z</span><span class="hspace">&nbsp;</span><span class="RktSym">Y</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Then we get the following query results:
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">show</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">vito</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">x: sonny</span></span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">x: michael</span></span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">x: fredo</span></span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">x: sophia</span></span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><table cellspacing="0"><tr><td><p><span class="stt"><span class="stt">x: tony</span></span></p></td></tr></table></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">next</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">'fail</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">find-all</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=parent</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">michael</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">(list<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'sophia))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'tony)))</span>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym">find-some</span><span class="hspace">&nbsp;</span><span class="RktVal">3</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">=ancestor</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">y</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div><div class="SIntrapara"><span class="RktRes">(list<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'vito)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'dom))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'sonny)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'vito))<span class="stt"> </span>(list<span class="stt"> </span>(list<span class="stt"> </span>'x<span class="stt"> </span>'michael)<span class="stt"> </span>(list<span class="stt"> </span>'y<span class="stt"> </span>'vito)))</span></div></p><div class="navsetbottom"><span class="navleft">&nbsp;&nbsp;</span><span class="navright"><a href="wtypei.html" title="backward to &quot;3.20 Type Inference&quot;" pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#(part._assignments)" title="up to &quot;3 Assignments&quot;" pltdoc="x">up</a>&nbsp;&nbsp;<a href="final.html" title="forward to &quot;3.22 Final&quot;" pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
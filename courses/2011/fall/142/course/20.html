<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><title>2.20&nbsp;More on Mutation with Structures</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default"/><link rel="stylesheet" type="text/css" href="course.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Introduction to Programming (Fall 2011)</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="index.html#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="index.html#%28part._.Meetings%29" class="tocviewselflink" data-pltdoc="x">Meetings</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="index.html#%28part._.Help%29" class="tocviewlink" data-pltdoc="x">Help</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="index.html#%28part._.Course_.Software%29" class="tocviewlink" data-pltdoc="x">Course Software</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="index.html#%28part._recipe%29" class="tocviewlink" data-pltdoc="x">How to Solve Your Problems</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="index.html#%28part._.Assignments_and_.Turn_.In_.Policy%29" class="tocviewlink" data-pltdoc="x">Assignments and Turn In Policy</a></td></tr><tr><td align="right">7&nbsp;</td><td><a href="index.html#%28part._.Exams%29" class="tocviewlink" data-pltdoc="x">Exams</a></td></tr><tr><td align="right">8&nbsp;</td><td><a href="index.html#%28part._final-grade%29" class="tocviewlink" data-pltdoc="x">Your Final Grade</a></td></tr><tr><td align="right">9&nbsp;</td><td><a href="index.html#%28part._.Glossary%29" class="tocviewlink" data-pltdoc="x">Glossary</a></td></tr><tr><td align="right">10&nbsp;</td><td><a href="index.html#%28part._.Miscellany%29" class="tocviewlink" data-pltdoc="x">Miscellany</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_1&quot;);">&#9660;</a></td><td>2&nbsp;</td><td><a href="index.html#%28part._.Meetings%29" class="tocviewlink" data-pltdoc="x">Meetings</a></td></tr></table><div class="tocviewsublist" style="display: block;" id="tocview_1"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.1&nbsp;</td><td><a href="1.html" class="tocviewlink" data-pltdoc="x">Introduction to Programming and C+<span class="mywbr"> &nbsp;</span>+</a></td></tr><tr><td align="right">2.2&nbsp;</td><td><a href="2.html" class="tocviewlink" data-pltdoc="x">Expressions and Functions</a></td></tr><tr><td align="right">2.3&nbsp;</td><td><a href="3.html" class="tocviewlink" data-pltdoc="x">Function Composition and Conditionals</a></td></tr><tr><td align="right">2.4&nbsp;</td><td><a href="4.html" class="tocviewlink" data-pltdoc="x">Conditionals and Strings</a></td></tr><tr><td align="right">2.5&nbsp;</td><td><a href="5.html" class="tocviewlink" data-pltdoc="x">Objects</a></td></tr><tr><td align="right">2.6&nbsp;</td><td><a href="6.html" class="tocviewlink" data-pltdoc="x">Objects and Nested Objects</a></td></tr><tr><td align="right">2.7&nbsp;</td><td><a href="7.html" class="tocviewlink" data-pltdoc="x">Methods</a></td></tr><tr><td align="right">2.8&nbsp;</td><td><a href="8.html" class="tocviewlink" data-pltdoc="x">Mixed Data</a></td></tr><tr><td align="right">2.9&nbsp;</td><td><a href="9.html" class="tocviewlink" data-pltdoc="x">Introduction to Lists</a></td></tr><tr><td align="right">2.10&nbsp;</td><td><a href="10.html" class="tocviewlink" data-pltdoc="x">More on Lists</a></td></tr><tr><td align="right">2.11&nbsp;</td><td><a href="11.html" class="tocviewlink" data-pltdoc="x">Producing Lists; Sorting</a></td></tr><tr><td align="right">2.12&nbsp;</td><td><a href="12.html" class="tocviewlink" data-pltdoc="x">Lists of Objects</a></td></tr><tr><td align="right">2.13&nbsp;</td><td><a href="13.html" class="tocviewlink" data-pltdoc="x">More Lists of Objects</a></td></tr><tr><td align="right">2.14&nbsp;</td><td><a href="14.html" class="tocviewlink" data-pltdoc="x">Trees</a></td></tr><tr><td align="right">2.15&nbsp;</td><td><a href="15.html" class="tocviewlink" data-pltdoc="x">Trees and Hierarchy</a></td></tr><tr><td align="right">2.16&nbsp;</td><td><a href="16.html" class="tocviewlink" data-pltdoc="x">More on Hierarchies</a></td></tr><tr><td align="right">2.17&nbsp;</td><td><a href="17.html" class="tocviewlink" data-pltdoc="x">Introduction to Mutation</a></td></tr><tr><td align="right">2.18&nbsp;</td><td><a href="18.html" class="tocviewlink" data-pltdoc="x">Program Design with Mutation</a></td></tr><tr><td align="right">2.19&nbsp;</td><td><a href="19.html" class="tocviewlink" data-pltdoc="x">Changing Structure Contents</a></td></tr><tr><td align="right">2.20&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">More on Mutation with Structures</a></td></tr><tr><td align="right">2.21&nbsp;</td><td><a href="21.html" class="tocviewlink" data-pltdoc="x">Deep Dark Secrets of C+<span class="mywbr"> &nbsp;</span>+</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_2&quot;);">&#9658;</a></td><td>2.20&nbsp;</td><td><a href="" class="tocviewselflink" data-pltdoc="x">More on Mutation with Structures</a></td></tr></table><div class="tocviewsublistbottom" style="display: none;" id="tocview_2"><table cellspacing="0" cellpadding="0"><tr><td align="right">2.20.1&nbsp;</td><td><a href="#%28part._20_obj%29" class="tocviewlink" data-pltdoc="x">Objectives</a></td></tr><tr><td align="right">2.20.2&nbsp;</td><td><a href="#%28part._20_exer%29" class="tocviewlink" data-pltdoc="x">Exercises (due 2011/<span class="mywbr"> &nbsp;</span>12/<span class="mywbr"> &nbsp;</span>05 08:<span class="mywbr"> &nbsp;</span>45:<span class="mywbr"> &nbsp;</span>00)</a></td></tr><tr><td align="right">2.20.3&nbsp;</td><td><a href="#%28part._20_opt%29" class="tocviewlink" data-pltdoc="x">Optional Exercises (due 2011/<span class="mywbr"> &nbsp;</span>12/<span class="mywbr"> &nbsp;</span>12 08:<span class="mywbr"> &nbsp;</span>45:<span class="mywbr"> &nbsp;</span>00)</a></td></tr><tr><td align="right">2.20.4&nbsp;</td><td><a href="#%28part._20_plan%29" class="tocviewlink" data-pltdoc="x">Notes</a></td></tr></table></div></div></div><div class="tocsub"><div class="tocsubtitle">On this page:</div><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">2.20.1<tt>&nbsp;</tt></span><a href="#%28part._20_obj%29" class="tocsubseclink" data-pltdoc="x">Objectives</a></td></tr><tr><td><span class="tocsublinknumber">2.20.2<tt>&nbsp;</tt></span><a href="#%28part._20_exer%29" class="tocsubseclink" data-pltdoc="x">Exercises (due 2011/<span class="mywbr"> &nbsp;</span>12/<span class="mywbr"> &nbsp;</span>05 08:<span class="mywbr"> &nbsp;</span>45:<span class="mywbr"> &nbsp;</span>00)</a></td></tr><tr><td><span class="tocsublinknumber">2.20.3<tt>&nbsp;</tt></span><a href="#%28part._20_opt%29" class="tocsubseclink" data-pltdoc="x">Optional Exercises (due 2011/<span class="mywbr"> &nbsp;</span>12/<span class="mywbr"> &nbsp;</span>12 08:<span class="mywbr"> &nbsp;</span>45:<span class="mywbr"> &nbsp;</span>00)</a></td></tr><tr><td><span class="tocsublinknumber">2.20.4<tt>&nbsp;</tt></span><a href="#%28part._20_plan%29" class="tocsubseclink" data-pltdoc="x">Notes</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="19.html" title="backward to &quot;2.19 Changing Structure Contents&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._.Meetings%29" title="up to &quot;2 Meetings&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="21.html" title="forward to &quot;2.21 Deep Dark Secrets of C++&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4>2.20<tt>&nbsp;</tt><a name="(part._20)"></a>More on Mutation with Structures</h4><blockquote class="SCentered"><p><span style="font-style: italic">While I array all day</span></p><p><span style="font-style: italic">Array array array array array array array...</span></p><p><span style="font-style: italic">At the end: I&rsquo;m done!</span></p></blockquote><h5>2.20.1<tt>&nbsp;</tt><a name="(part._20_obj)"></a>Objectives</h5><p><div class="SIntrapara">At the end of this class, you should know:</div><div class="SIntrapara"><ul><li><p>what an <a href="index.html#%28tech._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">array</span></a> is</p></li></ul></div></p><p><div class="SIntrapara">At the end of this class, you should be able:</div><div class="SIntrapara"><ul><li><p>write <a href="index.html#%28tech._array%29" class="techoutside" data-pltdoc="x"><span class="techinside">array</span></a> <a href="index.html#%28tech._function%29" class="techoutside" data-pltdoc="x"><span class="techinside">functions</span></a></p></li><li><p>Use the <span class="stt">for</span> construct</p></li></ul></div></p><h5>2.20.2<tt>&nbsp;</tt><a name="(part._20_exer)"></a>Exercises (due 2011/12/05 08:45:00)</h5><p>1. Write a function called <span class="stt">translateAll</span> that takes an array of Posns, a dx, and a dy, and modifies the <span style="font-style: italic">array</span> such that it contains new Posns that have been translated.</p><p>2. Write a function called <span class="stt">translateAllNoNew</span> that takes an array of Posns, a dx, and a dy, and modifies the <span style="font-style: italic">Posns</span> such that they are all translated.</p><p>3. Recall <a href="14.html#%28tech._binary._search._tree%29" class="techoutside" data-pltdoc="x"><span class="techinside">binary search trees</span></a>. Write a function call <span class="stt">update</span> which takes a BST, a key, and a string and returns a BST where the key&rsquo;s value has been updated. Do not use mutation. You must make use of the BST property.</p><p><div class="SIntrapara">Then, answer the following question based on this example  binary search tree:
</div><div class="SIntrapara"><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">12</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">/</span><span class="hspace">&nbsp;&nbsp;</span><span class="stt">\</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">8</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">23</span></p></td></tr><tr><td><p><span class="stt">/\</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">/</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">\</span></p></td></tr><tr><td><p><span class="stt">1 9 15</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="stt">29</span></p></td></tr></table></div><div class="SIntrapara">where each node&rsquo;s value is the Japanese version of number (for example, 23 is "&#20108;&#21313;&#19977;").</div></p><p>What is the fewest number of new nodes that must be created to update the tree so that 15 is mapped to "Fifteen" rather than "&#21313;&#20116;"?</p><p>4. Modify <span class="stt">update</span> to use mutation so that the node&rsquo;s value is modified in place. Re-answer the side question about the example tree.</p><p>5. Write a function called <span class="stt">ThreeDayMovingAverage</span> that takes a list of prices, where each represents a day, and returns a list of 3 day price averages. For example, <span class="stt">1:2:3:4:!</span> would return <span class="stt">((1+2+3)/3) : ((2+3+4)/3) : !</span></p><p>6. Modify <span class="stt">ThreeDayMovingAverage</span> so that it takes an array of prices and replaces the values with their moving averages. If there is not enough data for a three day average for the day, replace it with <a href="index.html#%28tech._nan%29" class="techoutside" data-pltdoc="x"><span class="techinside">NaN</span></a>. (Remember that <span class="stt">NAN</span> is a great way to get <a href="index.html#%28tech._nan%29" class="techoutside" data-pltdoc="x"><span class="techinside">NaN</span></a>.)</p><h5>2.20.3<tt>&nbsp;</tt><a name="(part._20_opt)"></a>Optional Exercises (due 2011/12/12 08:45:00)</h5><p>7. Write a function called <span class="stt">anyTrue</span> that takes an array of booleans and returns true if any is true. You must only use function calls: no <span class="stt">while</span> or <span class="stt">for</span>.</p><p>8. Write <span class="stt">anyTrue</span> using <span class="stt">while</span> or <span class="stt">for</span></p><p>9. Write the function <span class="stt">distances</span> that takes an array of numbers and modifies the array such that each number is replaced with the difference between it and the previous number. For the first number, assume the previous number was 42.</p><h5>2.20.4<tt>&nbsp;</tt><a name="(part._20_plan)"></a>Notes</h5><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>These notes are primarily for my sake, but I don&rsquo;t see any reason to hide them from you.</p></blockquote></blockquote></blockquote><p><table cellspacing="0" cellpadding="0"><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">Write sums</span></p></td></tr><tr><td><p><span class="stt">-- Replaces each element with itself added to all subsequent elements</span></p></td></tr><tr><td><p><span class="stt">-- Write in accumulator style with a helper</span></p></td></tr><tr><td><p><span class="stt">-- Translate to a for form</span></p></td></tr><tr><td><p><span class="stt">-- Why: We can count down, we can develop with accumulator style and translate, even though there is other mutation going on</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">Write andArray (boolean[])</span></p></td></tr><tr><td><p><span class="stt">-- We can have arrays of everything</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">Write inPlaceSort (int[])</span></p></td></tr><tr><td><p><span class="stt">-- Refer to http://www.htdp.org/2003-09-26/Book/curriculum-Z-H-53.html (figures 126 and 127, for a refresher)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">== Congrats ==</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">You are a programmer! Go forth and conquer.</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">Everything else is just learning the domains of existing libraries people have put together.</span></p></td></tr></table></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;</span><span class="navright">&nbsp;&nbsp;<a href="19.html" title="backward to &quot;2.19 Changing Structure Contents&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="index.html#%28part._.Meetings%29" title="up to &quot;2 Meetings&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="21.html" title="forward to &quot;2.21 Deep Dark Secrets of C++&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>
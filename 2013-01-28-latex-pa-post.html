<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>2013-01-28: LaTeX, Page Counts, and Sub-Documents</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--><link href="atom.xml" rel="alternate" title="Jay McCarthy" type="application/atom+xml"/><script type="text/javascript">var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30131476-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();</script></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="index.html" class="tocviewlink" data-pltdoc="x">Jay Mc<span class="mywbr"> &nbsp;</span>Carthy</a></td></tr></table></div><div class="tocviewsublisttop" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right"></td><td><a href="cat-categories.html" class="tocviewlink" data-pltdoc="x">Categories</a></td></tr><tr><td align="right"></td><td><a href="archive.html" class="tocviewselflink" data-pltdoc="x">Archive</a></td></tr></table></div></div><div class="tocviewlist"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;">&bull;</td><td></td><td><a href="archive.html" class="tocviewlink" data-pltdoc="x">Archive</a></td></tr></table></div></div></div><div class="maincolumn"><div class="main"><div class="navsettop"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="2013-01-21-schedule-post.html" title="backward to &quot;2013-01-21: The Early Bird Special Schedule&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="archive.html" title="up to &quot;Archive&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="2013-02-04-generati-post.html" title="forward to &quot;2013-02-04: Structures with Macros and Generativity&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div><h4><a name="(part._post)"></a>2013-01-28: LaTeX, Page Counts, and Sub-Documents</h4><div class="SAuthorListBox"><span class="SAuthorList"><p class="author"><a href="index.html" data-pltdoc="x">Jay McCarthy</a></p></span></div><p><div class="SIntrapara"></div><div class="SIntrapara"><blockquote class="refpara"><blockquote class="refcolumn"><blockquote class="refcontent"><p>The source for this post is online at <a href="https://github.com/jeapostrophe/jeapostrophe.github.com/tree/source/posts/2013-01-28-latex-pages.scrbl">2013-01-28-latex-pages.scrbl</a>.</p></blockquote></blockquote></blockquote></div><div class="SIntrapara"><span style="font-weight: bold">Categories:</span> <a href="cat-categories.html#%28part._.La.Te.X%29" data-pltdoc="x">LaTeX</a> <a href="cat-categories.html#%28part._.Make%29" data-pltdoc="x">Make</a> </div></p><p>I was recently preparing a grant proposal and had an annoying problem:
the proposal had to be submitted as many separate PDFs and each had
different page length requirements. Clearly I could make one giant PDF
with LaTeX and then use something like <span class="ssansserif">Print to File</span> many
times with different page ranges, but that would just be horrible. In
addition, wouldn&rsquo;t it be annoying to keep track of how many pages I
had already written for each section?</p><blockquote class="SCentered"><p>-</p></blockquote><p>In order to solve the first problem, I created a beautiful
<span class="stt">Makefile</span> that would make each of the individual documents by
using
<a href="http://www.pdflabs.com/tools/pdftk-the-pdf-toolkit/">PDFtk</a> to
split them off of the master. The proper way to do that is:</p><p><span class="hspace">&nbsp;&nbsp;</span><span class="stt">pdftk ${INPUT}.pdf cat ${FROM}-${TO} output ${OUTPUT}.pdf</span></p><p>where <span class="stt">${FROM}</span> or <span class="stt">${TO}</span> could be dropped.</p><p>The <span class="stt">Makefile</span> took care of this splendidly:</p><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">Makefile</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">all: summ.pdf desc.pdf bio.pdf budget.pdf refs.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">summ.pdf: master.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdftk $&lt; cat 1 output $@</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">desc.pdf: master.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdftk $&lt; cat 2-16 output $@</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">bio.pdf: master.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdftk $&lt; cat 17-18 output $@</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">budget.pdf: master.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdftk $&lt; cat 19 output $@</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">refs.pdf: master.pdf</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdftk $&lt; cat 20-end output $@</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span></p></td></tr><tr><td><p><span class="stt">%.pdf: %.tex</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">pdflatex $(basename $@)</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="stt">bibtex $(basename $@)</span></p></td></tr></table></blockquote></blockquote><p>But the annoying problem during development was... how to ensure that
there will actually always be 20+ pages, even when I&rsquo;m in the middle
of writing? In particular, before the description has reached the 15
page mark?</p><p>The key was to use a little LaTeX macro to add pages until the page
count reached the correct number.</p><blockquote class="Rfilebox"><p class="Rfiletitle"><span class="Rfilename"><span class="stt">master.tex</span></span></p><blockquote class="Rfilecontent"><table cellspacing="0" cellpadding="0" class="SVerbatim"><tr><td><p><span class="stt">\usepackage{forloop}</span></p></td></tr><tr><td><p><span class="stt">\begin{document}</span></p></td></tr><tr><td><p><span class="stt">% 1</span></p></td></tr><tr><td><p><span class="stt">\setcounter{page}{1} \include{summ}</span></p></td></tr><tr><td><p><span class="stt">% 2 - 16</span></p></td></tr><tr><td><p><span class="stt">\setcounter{page}{1} \include{desc}</span></p></td></tr><tr><td><p><span class="stt">\newcounter{descpages}</span></p></td></tr><tr><td><p><span class="stt">\forloop{descpages}{\value{page}}{\value{page} &lt; 16}{</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">~\newpage</span></p></td></tr><tr><td><p><span class="stt">}</span></p></td></tr><tr><td><p><span class="stt">% 17 - 18</span></p></td></tr><tr><td><p><span class="stt">\setcounter{page}{1} \include{bio}</span></p></td></tr><tr><td><p><span class="stt">\newcounter{biopages}</span></p></td></tr><tr><td><p><span class="stt">\forloop{biopages}{\value{page}}{\value{page} &lt; 2}{</span></p></td></tr><tr><td><p><span class="stt"></span><span class="hspace">&nbsp;</span><span class="stt">~\newpage</span></p></td></tr><tr><td><p><span class="stt">}</span></p></td></tr><tr><td><p><span class="stt">% 19</span></p></td></tr><tr><td><p><span class="stt">\setcounter{page}{1} \include{budget}</span></p></td></tr><tr><td><p><span class="stt">% 20 - end</span></p></td></tr><tr><td><p><span class="stt">\setcounter{page}{1} \bibliography{all}</span></p></td></tr><tr><td><p><span class="stt">\end{document}</span></p></td></tr></table></blockquote></blockquote><p>Although it is a totally trivial and stupid program (that I can&rsquo;t
figure out how to abstract and make nicer), it is still wonderful that
LaTeX can do this sort of thing and make my work-flow so much simpler.</p><p>I love programs and being able to make them do what I need. I can&rsquo;t
imagine how sad life would be if you didn&rsquo;t have the ability to change
your computer when it wasn&rsquo;t behaving the way you wanted.</p><p><div id="disqus_thread"><script type="text/javascript">
var disqus_shortname = 'jaymccarthy';
var disqus_identifier = 'http://jeapostrophe.github.com/blog/2013/01/28/latex-pages/';
var disqus_url = 'http://jeapostrophe.github.com/2013-01-28-latex-pa-post.html';
var disqus_script = 'embed.js';
(function () {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
}());

</script><noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript></div></p><div class="navsetbottom"><span class="navleft"><div class="nosearchform"></div>&nbsp;&nbsp;<span class="tocsettoggle">&nbsp;&nbsp;<a href="javascript:void(0);" title="show/hide table of contents" onclick="TocsetToggle();">contents</a></span></span><span class="navright">&nbsp;&nbsp;<a href="2013-01-21-schedule-post.html" title="backward to &quot;2013-01-21: The Early Bird Special Schedule&quot;" data-pltdoc="x">&larr; prev</a>&nbsp;&nbsp;<a href="archive.html" title="up to &quot;Archive&quot;" data-pltdoc="x">up</a>&nbsp;&nbsp;<a href="2013-02-04-generati-post.html" title="forward to &quot;2013-02-04: Structures with Macros and Generativity&quot;" data-pltdoc="x">next &rarr;</a></span>&nbsp;</div></div></div><div id="contextindicator">&nbsp;</div></body></html>